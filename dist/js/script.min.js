"use strict";var basketCounter=document.querySelector(".header__basket-counter"),basketButton=document.querySelector(".header__basket-button"),basket=document.querySelector(".basket"),basketBackButton=document.querySelector(".basket__button"),basketList=document.querySelector(".basket__list"),basketText=document.querySelector(".basket__text"),basketIcon=document.querySelector(".basket__icon"),basketValue=document.querySelector(".basket__total--number"),basketTotalNumber=0,counter=(basketValue.textContent=basketTotalNumber+"$",0),createFavoriteButton=(basketCounter.textContent=counter,function(){var t=document.createElement("button");return t.classList.add("favorite-button"),t.innerHTML='<svg class="favorite-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-heart"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>',t}),createButtonsContainer=function(){var t=document.createElement("div");return t.classList.add("buttons-container"),t.append(createPurchaseButton(),createFavoriteButton()),t},createPurchaseButton=function(){var t=document.createElement("button");return t.classList.add("purchase-button"),t.textContent="ADD TO CART",t},createProductPrice=function(t){var e=document.createElement("p");return e.classList.add("product-price"),e.textContent=t.price+"$",e},createProductName=function(t){var e=document.createElement("p");return e.classList.add("product-name"),e.textContent=t.name,e},createProductImage=function(t){var e=document.createElement("img");return e.classList.add("product-image"),e.setAttribute("src",t.image),e},createProductListItem=function(t){var e=document.createElement("li");return e.classList.add("product-list-item"),e.setAttribute("id",t.id),e.append(createProductImage(t),createProductName(t),createProductPrice(t),createButtonsContainer()),e},createProductsList=function(t){var e=document.createElement("ul");return e.classList.add("products-list"),t.forEach(function(t){e.append(createProductListItem(t))}),e},renderProducts=function(t){var e=document.querySelector("#main");return e.append(createProductsList(t)),e},purchasedProductName=(renderProducts(products),function(t){var e;return(e=document.createElement("p")).textContent=products[t].name,e.classList.add("basket__purchased-name"),e}),purchasedProductPrice=function(t){var e;return(e=document.createElement("p")).textContent=products[t].price+"$",e.classList.add("basket__purchased-price"),e},purchasedProductImage=function(t){var e;return(e=document.createElement("img")).classList.add("product-image"),e.setAttribute("src",products[t].image),e},removeFromBasket=function(t){var t=t.target.closest("li").id,e=products[t].price,t=document.getElementById(t);basketTotalNumber-=e,basketValue.textContent=basketTotalNumber.toFixed(2)+"$",basketList.removeChild(t),2===basketList.children.length&&(basketIcon.classList.remove("in-active"),basketText.classList.remove("in-active"))},createRemoveButton=function(t){var e=document.createElement("button");return e.classList.add("basket__remove-from-cart"),e.textContent="REMOVE",e.addEventListener("click",function(t){removeFromBasket(t),counter--,basketCounter.textContent=counter;t=document.querySelector(".products-list").children[t.target.closest("li").id].querySelector("button");t.textContent="ADD TO CART",t.classList.remove("remove-from-basket")}),e},addToBasket=function(t){""!==basketList&&(basketIcon.classList.add("in-active"),basketText.classList.add("in-active"));var t=t.target.closest("li").id,e=document.createElement("li");e.setAttribute("id",products[t].id),e.classList.add("basket__purchased-item"),e.append(purchasedProductImage(t),purchasedProductPrice(t),purchasedProductName(t),createRemoveButton()),basketTotalNumber+=products[t].price,basketValue.textContent=basketTotalNumber.toFixed(2)+"$",basketList.append(e)},countProductInBasket=function(){document.querySelectorAll(".purchase-button").forEach(function(t){t.addEventListener("click",function(t){var e=t.target;("ADD TO CART"===e.textContent?(e.textContent="REMOVE",e.classList.add("remove-from-basket"),counter++,addToBasket):(e.textContent="ADD TO CART",e.classList.remove("remove-from-basket"),counter--,removeFromBasket))(t),basketCounter.textContent=counter})})},openBasket=function(){window.screen.width<=768?basket.classList.add("basket-active-mobile"):769<window.screen.width&&basket.classList.add("basket-active-desktop")},closeBasket=function(){basket.classList.remove("basket-active-mobile"),basket.classList.remove("basket-active-desktop")};basketBackButton.addEventListener("click",closeBasket),basketButton.addEventListener("click",openBasket),countProductInBasket();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJiYXNrZXRDb3VudGVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYmFza2V0QnV0dG9uIiwiYmFza2V0IiwiYmFza2V0QmFja0J1dHRvbiIsImJhc2tldExpc3QiLCJiYXNrZXRUZXh0IiwiYmFza2V0SWNvbiIsImJhc2tldFRvdGFsTnVtYmVyIiwiYmFza2V0VmFsdWUiLCJjb3VudGVyIiwidGV4dENvbnRlbnQiLCJmYXZCdXR0b24iLCJjcmVhdGVGYXZvcml0ZUJ1dHRvbiIsImNyZWF0ZUJ1dHRvbnNDb250YWluZXIiLCJjcmVhdGVFbGVtZW50IiwiYnV0dG9uc0NvbnRhaW5lciIsImFwcGVuZCIsImNsYXNzTGlzdCIsImNyZWF0ZVB1cmNoYXNlQnV0dG9uIiwicHVyY2hhc2VCdXR0b24iLCJjcmVhdGVQcm9kdWN0UHJpY2UiLCJwcm9kdWN0cyIsInByb2R1Y3RQcmljZSIsInByaWNlIiwiY3JlYXRlUHJvZHVjdE5hbWUiLCJwcm9kdWN0TmFtZSIsIm5hbWUiLCJjcmVhdGVQcm9kdWN0SW1hZ2UiLCJwcm9kdWN0SW1hZ2UiLCJzZXRBdHRyaWJ1dGUiLCJhZGQiLCJpbWFnZSIsImNyZWF0ZVByb2R1Y3RMaXN0SXRlbSIsInByb2R1Y3RMaXN0SXRlbSIsImlkIiwicHJvZHVjdExpc3QiLCJmb3JFYWNoIiwicHJvZHVjdCIsInJlbmRlclByb2R1Y3RzIiwibWFpbiIsInB1cmNoYXNlZFByb2R1Y3ROYW1lIiwicHVyY2hhc2VkUHJvZHVjdElkIiwicHVyY2hhc2VkUHJvZHVjdFByaWNlIiwicHVyY2hhc2VkUHJvZHVjdEltYWdlIiwicmVtb3ZlRnJvbUJhc2tldCIsImNsb3Nlc3QiLCJwdXJjaGFzZWRQcm9kdWN0UHJpY2VWYWx1ZSIsInRvRml4ZWQiLCJwcm9kdWN0VG9EZWxldGUiLCJnZXRFbGVtZW50QnlJZCIsInJlbW92ZSIsInJlbW92ZUNoaWxkIiwiY2hpbGRyZW4iLCJsZW5ndGgiLCJjcmVhdGVSZW1vdmVCdXR0b24iLCJyZW1vdmVCdXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwicHJvZHVjdHNMaXN0IiwiYnRuIiwiZSIsInRhcmdldCIsImFkZFRvQmFza2V0IiwicHVyY2hhc2VkTGlzdEl0ZW0iLCJjb3VudFByb2R1Y3RJbkJhc2tldCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwdXJjaGFzZUJ1dHRvbnMiLCJidXR0b24iLCJjbGlja2VkQnRuIiwib3BlbkJhc2tldCIsInNjcmVlbiIsIndpbmRvdyIsIndpZHRoIiwiY2xvc2VCYXNrZXQiXSwibWFwcGluZ3MiOiJhQUFBLElBQU1BLGNBQWdCQyxTQUFTQyxjQUFjLHlCQUF5QixFQUNoRUMsYUFBZUYsU0FBU0MsY0FBYyx3QkFBd0IsRUFEOURGLE9BQUFBLFNBQWdCQyxjQUFTQyxTQUFjLEVBQ3ZDQyxpQkFBZUYsU0FBU0MsY0FBYyxpQkFBQSxFQUN0Q0UsV0FBU0gsU0FBU0MsY0FBYyxlQUFVLEVBQzFDRyxXQUFBQSxTQUFtQkosY0FBU0MsZUFBYyxFQUM1Q0ksV0FBYUwsU0FBU0MsY0FBYyxlQUFnQixFQUNsREssWUFBYU4sU0FBU0MsY0FBYyx3QkFBZ0IsRUFDcERNLGtCQUFhUCxFQUVmUSxTQURKQyxZQUFJQSxZQUFzQkQsa0JBQWUsSUFDckNBLEdBRUFFLHNCQURKRCxjQUFZRSxZQUFjSCxRQUNYLFdBQ2ZULElBQUFBLEVBQWNZLFNBQWNELGNBQU8sUUFBQSxFQU1sQyxPQUxERSxFQUFNQyxVQUFBQSxJQUFvQixpQkFBcEJBLEVBR0xELEVBRk1BLFVBQ05BLG9ZQUNBQSxDQUdELEdBQUNFLHVCQUFBLFdBQ0QsSUFBTUEsRUFBc0JkLFNBQUdlLGNBQXpCRCxLQUFBQSxFQUlMLE9BRkFFLEVBRE1BLFVBQW1CaEIsSUFBQUEsbUJBQXVCLEVBRWhEZ0IsRUFEZ0JDLE9BQUNDLHFCQUFjLEVBQUFMLHFCQUFvQixDQUFBLEVBQ25ERyxDQUVELEVBQUNHLHFCQUFBLFdBQ0QsSUFBTUEsRUFBb0JuQixTQUFHZSxjQUF2QkksUUFBQUEsRUFJTCxPQUZBQyxF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U0NsRCxFQUFTa0QsRUFBQUMsUUFDVSxnQkFUaEJPLEVBU0h2QixhQVJBdUIsRUFTRHpELFlBQUEsU0FSQ3lELEVBU0RyRSxVQUFjWSxJQUFBQSxvQkFBcUIsRUFDcENELE9BQUUsR0FDRG9ELGNBRUdPLEVBQVUxRCxZQUFWMEQsY0FDTEQsRUFBV0UsVUFBWW5CLE9BQU8sb0JBQUUsRUFDL0JoRCxPQUFPZSxHQUNQMkIsbUJBTENlLENBQUEsRUFPRjdELGNBQUFZLFlBQUFELE9BQ0EsQ0FBQSxDQUNELENBQUEsQ0FSQSxFQVVDUCxXQUFpQmdELFdBQ2pCb0IsT0FBQUQsT0FBQUUsT0FBQSxJQUNEcEUsT0FBQUEsVUFBaUJxRCxJQUFBQSxzQkFBMEJnQixFQUNiLElBQWxCRixPQUFDZCxPQUFBQSxPQUNiTyxPQUFBQSxVQUFBQSxJQUFzQix1QkFBQSxDQVB0QixFQUNNUyxZQUFjLFdBQ25CdEUsT0FBT2UsVUFBVWlDLE9BQU8sc0JBQXNCLEVBQzlDaEQsT0FBT2UsVUFBVWlDLE9BQU8sdUJBQXVCLENBQ2hELEVBQ0EvQyxpQkFBaUJxRCxpQkFBaUIsUUFBU2dCLFdBQVcsRUFDdER2RSxhQUFhdUQsaUJBQWlCLFFBQVNZLFVBQVUsRUFDakRMLHFCQUFxQiIsImZpbGUiOiJzY3JpcHQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYmFza2V0Q291bnRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2Jhc2tldC1jb3VudGVyJylcclxuY29uc3QgYmFza2V0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fYmFza2V0LWJ1dHRvbicpXHJcbmNvbnN0IGJhc2tldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iYXNrZXQnKVxyXG5jb25zdCBiYXNrZXRCYWNrQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJhc2tldF9fYnV0dG9uJylcclxubGV0IGJhc2tldExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmFza2V0X19saXN0JylcclxuY29uc3QgYmFza2V0VGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iYXNrZXRfX3RleHQnKVxyXG5jb25zdCBiYXNrZXRJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJhc2tldF9faWNvbicpXHJcbmxldCBiYXNrZXRWYWx1ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iYXNrZXRfX3RvdGFsLS1udW1iZXInKVxyXG5sZXQgYmFza2V0VG90YWxOdW1iZXIgPSAwXHJcbmJhc2tldFZhbHVlLnRleHRDb250ZW50ID0gYmFza2V0VG90YWxOdW1iZXIgKyAnJCdcclxubGV0IGNvdW50ZXIgPSAwXHJcbmJhc2tldENvdW50ZXIudGV4dENvbnRlbnQgPSBjb3VudGVyXHJcbmNvbnN0IGNyZWF0ZUZhdm9yaXRlQnV0dG9uID0gKCkgPT4ge1xyXG5cdGNvbnN0IGZhdkJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXHJcblx0ZmF2QnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2Zhdm9yaXRlLWJ1dHRvbicpXHJcblx0ZmF2QnV0dG9uLmlubmVySFRNTCA9XHJcblx0XHQnPHN2ZyBjbGFzcz1cImZhdm9yaXRlLWljb25cIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiIzAwMFwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBjbGFzcz1cImZlYXRoZXIgZmVhdGhlci1oZWFydFwiPjxwYXRoIGQ9XCJNMjAuODQgNC42MWE1LjUgNS41IDAgMCAwLTcuNzggMEwxMiA1LjY3bC0xLjA2LTEuMDZhNS41IDUuNSAwIDAgMC03Ljc4IDcuNzhsMS4wNiAxLjA2TDEyIDIxLjIzbDcuNzgtNy43OCAxLjA2LTEuMDZhNS41IDUuNSAwIDAgMCAwLTcuNzh6XCI+PC9wYXRoPjwvc3ZnPidcclxuXHRyZXR1cm4gZmF2QnV0dG9uXHJcbn1cclxuY29uc3QgY3JlYXRlQnV0dG9uc0NvbnRhaW5lciA9ICgpID0+IHtcclxuXHRjb25zdCBidXR0b25zQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuXHRidXR0b25zQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2J1dHRvbnMtY29udGFpbmVyJylcclxuXHRidXR0b25zQ29udGFpbmVyLmFwcGVuZChjcmVhdGVQdXJjaGFzZUJ1dHRvbigpLCBjcmVhdGVGYXZvcml0ZUJ1dHRvbigpKVxyXG5cdHJldHVybiBidXR0b25zQ29udGFpbmVyXHJcbn1cclxuY29uc3QgY3JlYXRlUHVyY2hhc2VCdXR0b24gPSAoKSA9PiB7XHJcblx0Y29uc3QgcHVyY2hhc2VCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxyXG5cdHB1cmNoYXNlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3B1cmNoYXNlLWJ1dHRvbicpXHJcblx0cHVyY2hhc2VCdXR0b24udGV4dENvbnRlbnQgPSAnQUREIFRPIENBUlQnXHJcblx0cmV0dXJuIHB1cmNoYXNlQnV0dG9uXHJcbn1cclxuY29uc3QgY3JlYXRlUHJvZHVjdFByaWNlID0gcHJvZHVjdHMgPT4ge1xyXG5cdGNvbnN0IHByb2R1Y3RQcmljZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKVxyXG5cdHByb2R1Y3RQcmljZS5jbGFzc0xpc3QuYWRkKCdwcm9kdWN0LXByaWNlJylcclxuXHRwcm9kdWN0UHJpY2UudGV4dENvbnRlbnQgPSBwcm9kdWN0cy5wcmljZSArICckJ1xyXG5cdHJldHVybiBwcm9kdWN0UHJpY2VcclxufVxyXG5jb25zdCBjcmVhdGVQcm9kdWN0TmFtZSA9IHByb2R1Y3RzID0+IHtcclxuXHRjb25zdCBwcm9kdWN0TmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKVxyXG5cdHByb2R1Y3ROYW1lLmNsYXNzTGlzdC5hZGQoJ3Byb2R1Y3QtbmFtZScpXHJcblx0cHJvZHVjdE5hbWUudGV4dENvbnRlbnQgPSBwcm9kdWN0cy5uYW1lXHJcblx0cmV0dXJuIHByb2R1Y3ROYW1lXHJcbn1cclxuY29uc3QgY3JlYXRlUHJvZHVjdEltYWdlID0gcHJvZHVjdHMgPT4ge1xyXG5cdGNvbnN0IHByb2R1Y3RJbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpXHJcblx0cHJvZHVjdEltYWdlLmNsYXNzTGlzdC5hZGQoJ3Byb2R1Y3QtaW1hZ2UnKVxyXG5cdHByb2R1Y3RJbWFnZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIHByb2R1Y3RzLmltYWdlKVxyXG5cdHJldHVybiBwcm9kdWN0SW1hZ2VcclxufVxyXG5jb25zdCBjcmVhdGVQcm9kdWN0TGlzdEl0ZW0gPSBwcm9kdWN0cyA9PiB7XHJcblx0Y29uc3QgcHJvZHVjdExpc3RJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKVxyXG5cdHByb2R1Y3RMaXN0SXRlbS5jbGFzc0xpc3QuYWRkKCdwcm9kdWN0LWxpc3QtaXRlbScpXHJcblx0cHJvZHVjdExpc3RJdGVtLnNldEF0dHJpYnV0ZSgnaWQnLCBwcm9kdWN0cy5pZClcclxuXHRwcm9kdWN0TGlzdEl0ZW0uYXBwZW5kKFxyXG5cdFx0Y3JlYXRlUHJvZHVjdEltYWdlKHByb2R1Y3RzKSxcclxuXHRcdGNyZWF0ZVByb2R1Y3ROYW1lKHByb2R1Y3RzKSxcclxuXHRcdGNyZWF0ZVByb2R1Y3RQcmljZShwcm9kdWN0cyksXHJcblx0XHRjcmVhdGVCdXR0b25zQ29udGFpbmVyKClcclxuXHQpXHJcblx0cmV0dXJuIHByb2R1Y3RMaXN0SXRlbVxyXG59XHJcbmNvbnN0IGNyZWF0ZVByb2R1Y3RzTGlzdCA9IHByb2R1Y3RzID0+IHtcclxuXHRjb25zdCBwcm9kdWN0TGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJylcclxuXHRwcm9kdWN0TGlzdC5jbGFzc0xpc3QuYWRkKCdwcm9kdWN0cy1saXN0JylcclxuXHRwcm9kdWN0cy5mb3JFYWNoKHByb2R1Y3QgPT4ge1xyXG5cdFx0cHJvZHVjdExpc3QuYXBwZW5kKGNyZWF0ZVByb2R1Y3RMaXN0SXRlbShwcm9kdWN0KSlcclxuXHR9KVxyXG5cdHJldHVybiBwcm9kdWN0TGlzdFxyXG59XHJcbmNvbnN0IHJlbmRlclByb2R1Y3RzID0gcHJvZHVjdHMgPT4ge1xyXG5cdGNvbnN0IG1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWFpbicpXHJcblx0bWFpbi5hcHBlbmQoY3JlYXRlUHJvZHVjdHNMaXN0KHByb2R1Y3RzKSlcclxuXHRyZXR1cm4gbWFpblxyXG59XHJcbnJlbmRlclByb2R1Y3RzKHByb2R1Y3RzKVxyXG5jb25zdCBwdXJjaGFzZWRQcm9kdWN0TmFtZSA9IHB1cmNoYXNlZFByb2R1Y3RJZCA9PiB7XHJcblx0Y29uc3QgcHVyY2hhc2VkUHJvZHVjdE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJylcclxuXHRwdXJjaGFzZWRQcm9kdWN0TmFtZS50ZXh0Q29udGVudCA9IHByb2R1Y3RzW3B1cmNoYXNlZFByb2R1Y3RJZF0ubmFtZVxyXG5cdHB1cmNoYXNlZFByb2R1Y3ROYW1lLmNsYXNzTGlzdC5hZGQoJ2Jhc2tldF9fcHVyY2hhc2VkLW5hbWUnKVxyXG5cdHJldHVybiBwdXJjaGFzZWRQcm9kdWN0TmFtZVxyXG59XHJcbmNvbnN0IHB1cmNoYXNlZFByb2R1Y3RQcmljZSA9IHB1cmNoYXNlZFByb2R1Y3RJZCA9PiB7XHJcblx0Y29uc3QgcHVyY2hhc2VkUHJvZHVjdFByaWNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpXHJcblx0cHVyY2hhc2VkUHJvZHVjdFByaWNlLnRleHRDb250ZW50ID0gcHJvZHVjdHNbcHVyY2hhc2VkUHJvZHVjdElkXS5wcmljZSArICckJ1xyXG5cdHB1cmNoYXNlZFByb2R1Y3RQcmljZS5jbGFzc0xpc3QuYWRkKCdiYXNrZXRfX3B1cmNoYXNlZC1wcmljZScpXHJcblx0cmV0dXJuIHB1cmNoYXNlZFByb2R1Y3RQcmljZVxyXG59XHJcbmNvbnN0IHB1cmNoYXNlZFByb2R1Y3RJbWFnZSA9IHB1cmNoYXNlZFByb2R1Y3RJZCA9PiB7XHJcblx0Y29uc3QgcHVyY2hhc2VkUHJvZHVjdEltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJylcclxuXHRwdXJjaGFzZWRQcm9kdWN0SW1hZ2UuY2xhc3NMaXN0LmFkZCgncHJvZHVjdC1pbWFnZScpXHJcblx0cHVyY2hhc2VkUHJvZHVjdEltYWdlLnNldEF0dHJpYnV0ZSgnc3JjJywgcHJvZHVjdHNbcHVyY2hhc2VkUHJvZHVjdElkXS5pbWFnZSlcclxuXHRyZXR1cm4gcHVyY2hhc2VkUHJvZHVjdEltYWdlXHJcbn1cclxuY29uc3QgcmVtb3ZlRnJvbUJhc2tldCA9IGUgPT4ge1xyXG5cdGNvbnN0IHB1cmNoYXNlZFByb2R1Y3RJZCA9IGUudGFyZ2V0LmNsb3Nlc3QoJ2xpJykuaWRcclxuXHRjb25zdCBwdXJjaGFzZWRQcm9kdWN0UHJpY2VWYWx1ZSA9IHByb2R1Y3RzW3B1cmNoYXNlZFByb2R1Y3RJZF0ucHJpY2VcclxuXHRjb25zdCBwcm9kdWN0VG9EZWxldGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwdXJjaGFzZWRQcm9kdWN0SWQpXHJcblx0YmFza2V0VG90YWxOdW1iZXIgLT0gcHVyY2hhc2VkUHJvZHVjdFByaWNlVmFsdWVcclxuXHRiYXNrZXRWYWx1ZS50ZXh0Q29udGVudCA9IGJhc2tldFRvdGFsTnVtYmVyLnRvRml4ZWQoMikgKyAnJCdcclxuXHRiYXNrZXRMaXN0LnJlbW92ZUNoaWxkKHByb2R1Y3RUb0RlbGV0ZSlcclxuXHRpZiAoYmFza2V0TGlzdC5jaGlsZHJlbi5sZW5ndGggPT09IDIpIHtcclxuXHRcdGJhc2tldEljb24uY2xhc3NMaXN0LnJlbW92ZSgnaW4tYWN0aXZlJylcclxuXHRcdGJhc2tldFRleHQuY2xhc3NMaXN0LnJlbW92ZSgnaW4tYWN0aXZlJylcclxuXHR9XHJcbn1cclxuY29uc3QgY3JlYXRlUmVtb3ZlQnV0dG9uID0gZSA9PiB7XHJcblx0Y29uc3QgcmVtb3ZlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcclxuXHRyZW1vdmVCdXR0b24uY2xhc3NMaXN0LmFkZCgnYmFza2V0X19yZW1vdmUtZnJvbS1jYXJ0JylcclxuXHRyZW1vdmVCdXR0b24udGV4dENvbnRlbnQgPSAnUkVNT1ZFJ1xyXG5cdHJlbW92ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG5cdFx0cmVtb3ZlRnJvbUJhc2tldChlKVxyXG5cdFx0Y291bnRlci0tXHJcblx0XHRiYXNrZXRDb3VudGVyLnRleHRDb250ZW50ID0gY291bnRlclxyXG5cdFx0Y29uc3QgcHJvZHVjdHNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2R1Y3RzLWxpc3QnKVxyXG5cdFx0Y29uc3QgYnRuID0gcHJvZHVjdHNMaXN0LmNoaWxkcmVuW2UudGFyZ2V0LmNsb3Nlc3QoJ2xpJykuaWRdLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbicpXHJcblx0XHRidG4udGV4dENvbnRlbnQgPSAnQUREIFRPIENBUlQnXHJcblx0XHRidG4uY2xhc3NMaXN0LnJlbW92ZSgncmVtb3ZlLWZyb20tYmFza2V0JylcclxuXHR9KVxyXG5cdHJldHVybiByZW1vdmVCdXR0b25cclxufVxyXG5jb25zdCBhZGRUb0Jhc2tldCA9IGUgPT4ge1xyXG5cdGlmIChiYXNrZXRMaXN0ICE9PSAnJykge1xyXG5cdFx0YmFza2V0SWNvbi5jbGFzc0xpc3QuYWRkKCdpbi1hY3RpdmUnKVxyXG5cdFx0YmFza2V0VGV4dC5jbGFzc0xpc3QuYWRkKCdpbi1hY3RpdmUnKVxyXG5cdH1cclxuXHRjb25zdCBwdXJjaGFzZWRQcm9kdWN0SWQgPSBlLnRhcmdldC5jbG9zZXN0KCdsaScpLmlkXHJcblx0Y29uc3QgcHVyY2hhc2VkTGlzdEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpXHJcblx0cHVyY2hhc2VkTGlzdEl0ZW0uc2V0QXR0cmlidXRlKCdpZCcsIHByb2R1Y3RzW3B1cmNoYXNlZFByb2R1Y3RJZF0uaWQpXHJcblx0cHVyY2hhc2VkTGlzdEl0ZW0uY2xhc3NMaXN0LmFkZCgnYmFza2V0X19wdXJjaGFzZWQtaXRlbScpXHJcblx0cHVyY2hhc2VkTGlzdEl0ZW0uYXBwZW5kKFxyXG5cdFx0cHVyY2hhc2VkUHJvZHVjdEltYWdlKHB1cmNoYXNlZFByb2R1Y3RJZCksXHJcblx0XHRwdXJjaGFzZWRQcm9kdWN0UHJpY2UocHVyY2hhc2VkUHJvZHVjdElkKSxcclxuXHRcdHB1cmNoYXNlZFByb2R1Y3ROYW1lKHB1cmNoYXNlZFByb2R1Y3RJZCksXHJcblx0XHRjcmVhdGVSZW1vdmVCdXR0b24oKVxyXG5cdClcclxuXHRiYXNrZXRUb3RhbE51bWJlciArPSBwcm9kdWN0c1twdXJjaGFzZWRQcm9kdWN0SWRdLnByaWNlXHJcblx0YmFza2V0VmFsdWUudGV4dENvbnRlbnQgPSBiYXNrZXRUb3RhbE51bWJlci50b0ZpeGVkKDIpICsgJyQnXHJcblx0YmFza2V0TGlzdC5hcHBlbmQocHVyY2hhc2VkTGlzdEl0ZW0pXHJcbn1cclxuY29uc3QgY291bnRQcm9kdWN0SW5CYXNrZXQgPSAoKSA9PiB7XHJcblx0Y29uc3QgcHVyY2hhc2VCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnB1cmNoYXNlLWJ1dHRvbicpXHJcblx0cHVyY2hhc2VCdXR0b25zLmZvckVhY2goYnV0dG9uID0+IHtcclxuXHRcdGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG5cdFx0XHRjb25zdCBjbGlja2VkQnRuID0gZS50YXJnZXRcclxuXHRcdFx0aWYgKGNsaWNrZWRCdG4udGV4dENvbnRlbnQgPT09ICdBREQgVE8gQ0FSVCcpIHtcclxuXHRcdFx0XHRjbGlja2VkQnRuLnRleHRDb250ZW50ID0gJ1JFTU9WRSdcclxuXHRcdFx0XHRjbGlja2VkQnRuLmNsYXNzTGlzdC5hZGQoJ3JlbW92ZS1mcm9tLWJhc2tldCcpXHJcblx0XHRcdFx0Y291bnRlcisrXHJcblx0XHRcdFx0YWRkVG9CYXNrZXQoZSlcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRjbGlja2VkQnRuLnRleHRDb250ZW50ID0gJ0FERCBUTyBDQVJUJ1xyXG5cdFx0XHRcdGNsaWNrZWRCdG4uY2xhc3NMaXN0LnJlbW92ZSgncmVtb3ZlLWZyb20tYmFza2V0JylcclxuXHRcdFx0XHRjb3VudGVyLS1cclxuXHRcdFx0XHRyZW1vdmVGcm9tQmFza2V0KGUpXHJcblx0XHRcdH1cclxuXHRcdFx0YmFza2V0Q291bnRlci50ZXh0Q29udGVudCA9IGNvdW50ZXJcclxuXHRcdH0pXHJcblx0fSlcclxufVxyXG5jb25zdCBvcGVuQmFza2V0ID0gKCkgPT4ge1xyXG5cdGlmICh3aW5kb3cuc2NyZWVuLndpZHRoIDw9IDc2OCkge1xyXG5cdFx0YmFza2V0LmNsYXNzTGlzdC5hZGQoJ2Jhc2tldC1hY3RpdmUtbW9iaWxlJylcclxuXHR9IGVsc2UgaWYgKHdpbmRvdy5zY3JlZW4ud2lkdGggPiA3NjkpIHtcclxuXHRcdGJhc2tldC5jbGFzc0xpc3QuYWRkKCdiYXNrZXQtYWN0aXZlLWRlc2t0b3AnKVxyXG5cdH1cclxufVxyXG5jb25zdCBjbG9zZUJhc2tldCA9ICgpID0+IHtcclxuXHRiYXNrZXQuY2xhc3NMaXN0LnJlbW92ZSgnYmFza2V0LWFjdGl2ZS1tb2JpbGUnKVxyXG5cdGJhc2tldC5jbGFzc0xpc3QucmVtb3ZlKCdiYXNrZXQtYWN0aXZlLWRlc2t0b3AnKVxyXG59XHJcbmJhc2tldEJhY2tCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUJhc2tldClcclxuYmFza2V0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkJhc2tldClcclxuY291bnRQcm9kdWN0SW5CYXNrZXQoKVxyXG4iXX0=
