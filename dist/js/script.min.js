"use strict";var basketCounter=document.querySelector(".header__basket-counter"),basketButton=document.querySelector(".header__basket-button"),basket=document.querySelector(".basket"),basketBackButton=document.querySelector(".basket__button"),basketList=document.querySelector(".basket__list"),basketText=document.querySelector(".basket__text"),basketIcon=document.querySelector(".basket__icon"),basketValue=document.querySelector(".basket__total--number"),basketTotal=0,productsInBasket=[],counter=0,createFavoriteButton=(basketValue.textContent=basketTotal+"$",basketCounter.textContent=counter,function(){var t=document.createElement("button");return t.classList.add("favorite-button"),t.innerHTML='<svg class="favorite-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-heart"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>',t}),createButtonsContainer=function(){var t=document.createElement("div");return t.classList.add("buttons-container"),t.append(createPurchaseButton(),createFavoriteButton()),t},createPurchaseButton=function(){var t=document.createElement("button");return t.classList.add("purchase-button"),t.textContent="ADD TO CART",t},createProductPrice=function(t){var e=document.createElement("p");return e.classList.add("product-price"),e.textContent=t.price+"$",e},createProductName=function(t){var e=document.createElement("p");return e.classList.add("product-name"),e.textContent=t.name,e},createProductImage=function(t){var e=document.createElement("img");return e.classList.add("product-image"),e.setAttribute("src",t.image),e},createProductListItem=function(t){var e=document.createElement("li");return e.classList.add("product-list-item"),e.setAttribute("data-id",t.id),e.append(createProductImage(t),createProductName(t),createProductPrice(t),createButtonsContainer()),e},createProductsList=function(t){var e=document.createElement("ul");return e.classList.add("products-list"),t.forEach(function(t){e.append(createProductListItem(t))}),e},renderProducts=function(t){var e=document.querySelector("#main");return e.append(createProductsList(t)),e},purchasedProductAmountCounter=(renderProducts(products),function(){var t=document.createElement("p");return t.textContent=1,t.classList.add("basket__amount-counter"),t}),purchasedProductAmountPlusButton=function(){var t=document.createElement("button");return t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#008000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus-circle"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line></svg>',t.classList.add("basket__purchased-plus--button"),t.addEventListener("click",function(t){var e=Number(t.target.closest("div").children[1].textContent);e++,t.target.closest("div").children[1].textContent=e}),t},purchasedProductAmountMinusButton=function(){var t=document.createElement("button");return t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#FF0000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-minus-circle"><circle cx="12" cy="12" r="10"></circle><line x1="8" y1="12" x2="16" y2="12"></line></svg>',t.classList.add("basket__purchased-minus--button"),t.addEventListener("click",function(t){var e=Number(t.target.closest("div").children[1].textContent);e--,t.target.closest("div").children[1].textContent=e}),t},purchasedProductAmountContainer=function(){var t=document.createElement("div");return t.classList.add("basket__purchased-amount-container"),t.append(purchasedProductAmountMinusButton(),purchasedProductAmountCounter(),purchasedProductAmountPlusButton()),t},purchasedProductName=function(t){var e;return(e=document.createElement("p")).textContent=products[t].name,e.classList.add("basket__purchased-name"),e},purchasedProductPrice=function(t){var e;return(e=document.createElement("p")).textContent=products[t].price*purchasedProductAmountCounter().textContent+"$",e.classList.add("basket__purchased-price"),e},purchasedProductImage=function(t){var e;return(e=document.createElement("img")).classList.add("product-image"),e.setAttribute("src",products[t].image),e},removeFromBasket=function(t){var e=t.target.closest("li").dataset.id,e=products[e].price,t=document.getElementById(t.target.closest("li").dataset.id);basketTotal-=e,basketValue.textContent=basketTotal.toFixed(2)+"$",basketList.removeChild(t),2===basketList.children.length&&(basketIcon.classList.remove("in-active"),basketText.classList.remove("in-active"))},addToBasket=function(t){""!==basketList&&(basketIcon.classList.add("in-active"),basketText.classList.add("in-active"));var t=t.target.closest("li").dataset.id,e=document.createElement("li");e.setAttribute("id",products[t].id),e.classList.add("basket__purchased-item"),e.append(purchasedProductImage(t),purchasedProductPrice(t),purchasedProductName(t),purchasedProductAmountContainer()),basketTotal+=products[t].price*purchasedProductAmountCounter().textContent,basketValue.textContent=basketTotal.toFixed(2)+"$",basketList.append(e)},countProductInBasket=function(){document.querySelectorAll(".purchase-button").forEach(function(t){t.addEventListener("click",function(t){var e=t.target;("ADD TO CART"===e.textContent?(e.textContent="REMOVE",e.classList.add("remove-from-basket"),counter++,addToBasket):(e.textContent="ADD TO CART",e.classList.remove("remove-from-basket"),counter--,removeFromBasket))(t),basketCounter.textContent=counter})})},openBasket=function(){window.screen.width<=768?basket.classList.add("basket-active-mobile"):769<window.screen.width&&basket.classList.add("basket-active-desktop")},closeBasket=function(){basket.classList.remove("basket-active-mobile"),basket.classList.remove("basket-active-desktop")};basketBackButton.addEventListener("click",closeBasket),basketButton.addEventListener("click",openBasket),countProductInBasket();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJiYXNrZXRDb3VudGVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYmFza2V0QnV0dG9uIiwiYmFza2V0IiwiYmFza2V0QmFja0J1dHRvbiIsImJhc2tldExpc3QiLCJiYXNrZXRUZXh0IiwiYmFza2V0SWNvbiIsImJhc2tldFZhbHVlIiwiYmFza2V0VG90YWwiLCJwcm9kdWN0c0luQmFza2V0IiwidGV4dENvbnRlbnQiLCJjb3VudGVyIiwiZmF2QnV0dG9uIiwiY3JlYXRlRmF2b3JpdGVCdXR0b24iLCJjcmVhdGVCdXR0b25zQ29udGFpbmVyIiwiY3JlYXRlRWxlbWVudCIsImJ1dHRvbnNDb250YWluZXIiLCJhcHBlbmQiLCJjbGFzc0xpc3QiLCJjcmVhdGVQdXJjaGFzZUJ1dHRvbiIsInB1cmNoYXNlQnV0dG9uIiwiY3JlYXRlUHJvZHVjdFByaWNlIiwicHJvZHVjdHMiLCJwcm9kdWN0UHJpY2UiLCJwcmljZSIsImNyZWF0ZVByb2R1Y3ROYW1lIiwicHJvZHVjdE5hbWUiLCJuYW1lIiwiY3JlYXRlUHJvZHVjdEltYWdlIiwicHJvZHVjdEltYWdlIiwic2V0QXR0cmlidXRlIiwiYWRkIiwiaW1hZ2UiLCJjcmVhdGVQcm9kdWN0TGlzdEl0ZW0iLCJwcm9kdWN0TGlzdEl0ZW0iLCJpZCIsInByb2R1Y3RMaXN0IiwiZm9yRWFjaCIsInByb2R1Y3QiLCJyZW5kZXJQcm9kdWN0cyIsIm1haW4iLCJwdXJjaGFzZWRQcm9kdWN0QW1vdW50Q291bnRlciIsImFtb3VudENvdW50ZXIiLCJwdXJjaGFzZWRQcm9kdWN0QW1vdW50UGx1c0J1dHRvbiIsInBsdXNCdXR0b24iLCJOdW1iZXIiLCJ0YXJnZXQiLCJjaGlsZHJlbiIsImlubmVySFRNTCIsImUiLCJjbG9zZXN0IiwicHVyY2hhc2VkUHJvZHVjdEFtb3VudE1pbnVzQnV0dG9uIiwibWludXNCdXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwicHVyY2hhc2VkUHJvZHVjdEFtb3VudENvbnRhaW5lciIsImFtb3VudENvbnRhaW5lciIsInB1cmNoYXNlZFByb2R1Y3ROYW1lIiwicHVyY2hhc2VkUHJvZHVjdFByaWNlIiwicHVyY2hhc2VkUHJvZHVjdEltYWdlIiwicHVyY2hhc2VkUHJvZHVjdElkIiwicHVyY2hhc2VkUHJvZHVjdFByaWNlVmFsdWUiLCJwcm9kdWN0VG9EZWxldGUiLCJyZW1vdmVGcm9tQmFza2V0IiwiYWRkVG9CYXNrZXQiLCJkYXRhc2V0IiwiZ2V0RWxlbWVudEJ5SWQiLCJ0b0ZpeGVkIiwicHVyY2hhc2VkTGlzdEl0ZW0iLCJsZW5ndGgiLCJjb3VudFByb2R1Y3RJbkJhc2tldCIsInB1cmNoYXNlQnV0dG9ucyIsImJ1dHRvbiIsImNsaWNrZWRCdG4iLCJxdWVyeVNlbGVjdG9yQWxsIiwib3BlbkJhc2tldCIsIndpbmRvdyIsIndpZHRoIiwicmVtb3ZlIiwic2NyZWVuIiwiY2xvc2VCYXNrZXQiXSwibWFwcGluZ3MiOiJhQUFBLElBQU1BLGNBQWdCQyxTQUFTQyxjQUFjLHlCQUF5QixFQUNoRUMsYUFBZUYsU0FBU0MsY0FBYyx3QkFBd0IsRUFEOURGLE9BQUFBLFNBQWdCQyxjQUFTQyxTQUFjLEVBQ3ZDQyxpQkFBZUYsU0FBU0MsY0FBYyxpQkFBQSxFQUN0Q0UsV0FBU0gsU0FBU0MsY0FBYyxlQUFVLEVBQzFDRyxXQUFBQSxTQUFtQkosY0FBU0MsZUFBYyxFQUM1Q0ksV0FBYUwsU0FBU0MsY0FBYyxlQUFnQixFQUNsREssWUFBYU4sU0FBU0MsY0FBYyx3QkFBZ0IsRUFDcERNLFlBQWFQLEVBQ2ZRLGlCQUFjUixHQUNkUyxRQUFBQSxFQUdKRCxzQkFGQUEsWUFBSUUsWUFBcUJELFlBQUEsSUFDekJWLGNBQWNZLFlBQUNDLFFBQ1dILFdBQzFCVixJQUFBQSxFQUFjWSxTQUFjQyxjQUFPLFFBQUEsRUFNbEMsT0FMREMsRUFBTUMsVUFBQUEsSUFBb0IsaUJBQXBCQSxFQUdMRCxFQUZNQSxVQUNOQSxvWUFDQUEsQ0FHRCxHQUFDRSx1QkFBQSxXQUNELElBQU1B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RUFBT2dCLFlBQWlCLGNBQ3hCaEIsRUFBT2dCLFVBQWdCMkQsT0FBQyxvQkFBd0IsRUFDaERsRSxPQUFBLEdBQ0RSLG1CQUxDOEMsQ0FBQSxFQU9Eb0IsY0FBQUEsWUFBc0IxRCxPQWhCcEIsQ0FBQyxDQUNGLENBQUMsQ0FDRixFQUNNK0QsV0FBYSxXQUNkQyxPQUFPRyxPQUFPRixPQUFTLElBQzFCMUUsT0FBT2dCLFVBQVVhLElBQUksc0JBQXNCLEVBQ1gsSUFBdEI0QyxPQUFPRyxPQUFPRixPQUN4QjFFLE9BQU9nQixVQUFVYSxJQUFJLHVCQUF1QixDQUU5QyxFQUNNZ0QsWUFBYyxXQUNuQjdFLE9BQU9nQixVQUFVMkQsT0FBTyxzQkFBc0IsRUFDOUMzRSxPQUFPZ0IsVUFBVTJELE9BQU8sdUJBQXVCLENBQ2hELEVBQ0ExRSxpQkFBaUJrRCxpQkFBaUIsUUFBUzBCLFdBQVcsRUFDdEQ5RSxhQUFhb0QsaUJBQWlCLFFBQVNxQixVQUFVLEVBQ2pETCxxQkFBcUIiLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGJhc2tldENvdW50ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19iYXNrZXQtY291bnRlcicpXHJcbmNvbnN0IGJhc2tldEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2Jhc2tldC1idXR0b24nKVxyXG5jb25zdCBiYXNrZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmFza2V0JylcclxuY29uc3QgYmFza2V0QmFja0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iYXNrZXRfX2J1dHRvbicpXHJcbmxldCBiYXNrZXRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJhc2tldF9fbGlzdCcpXHJcbmNvbnN0IGJhc2tldFRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmFza2V0X190ZXh0JylcclxuY29uc3QgYmFza2V0SWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iYXNrZXRfX2ljb24nKVxyXG5sZXQgYmFza2V0VmFsdWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmFza2V0X190b3RhbC0tbnVtYmVyJylcclxubGV0IGJhc2tldFRvdGFsID0gMFxyXG5sZXQgcHJvZHVjdHNJbkJhc2tldCA9IFtdXHJcbmxldCBjb3VudGVyID0gMFxyXG5iYXNrZXRWYWx1ZS50ZXh0Q29udGVudCA9IGJhc2tldFRvdGFsICsgJyQnXHJcbmJhc2tldENvdW50ZXIudGV4dENvbnRlbnQgPSBjb3VudGVyXHJcbmNvbnN0IGNyZWF0ZUZhdm9yaXRlQnV0dG9uID0gKCkgPT4ge1xyXG5cdGNvbnN0IGZhdkJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXHJcblx0ZmF2QnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2Zhdm9yaXRlLWJ1dHRvbicpXHJcblx0ZmF2QnV0dG9uLmlubmVySFRNTCA9XHJcblx0XHQnPHN2ZyBjbGFzcz1cImZhdm9yaXRlLWljb25cIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiIzAwMFwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBjbGFzcz1cImZlYXRoZXIgZmVhdGhlci1oZWFydFwiPjxwYXRoIGQ9XCJNMjAuODQgNC42MWE1LjUgNS41IDAgMCAwLTcuNzggMEwxMiA1LjY3bC0xLjA2LTEuMDZhNS41IDUuNSAwIDAgMC03Ljc4IDcuNzhsMS4wNiAxLjA2TDEyIDIxLjIzbDcuNzgtNy43OCAxLjA2LTEuMDZhNS41IDUuNSAwIDAgMCAwLTcuNzh6XCI+PC9wYXRoPjwvc3ZnPidcclxuXHRyZXR1cm4gZmF2QnV0dG9uXHJcbn1cclxuY29uc3QgY3JlYXRlQnV0dG9uc0NvbnRhaW5lciA9ICgpID0+IHtcclxuXHRjb25zdCBidXR0b25zQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuXHRidXR0b25zQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2J1dHRvbnMtY29udGFpbmVyJylcclxuXHRidXR0b25zQ29udGFpbmVyLmFwcGVuZChjcmVhdGVQdXJjaGFzZUJ1dHRvbigpLCBjcmVhdGVGYXZvcml0ZUJ1dHRvbigpKVxyXG5cdHJldHVybiBidXR0b25zQ29udGFpbmVyXHJcbn1cclxuY29uc3QgY3JlYXRlUHVyY2hhc2VCdXR0b24gPSAoKSA9PiB7XHJcblx0Y29uc3QgcHVyY2hhc2VCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxyXG5cdHB1cmNoYXNlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3B1cmNoYXNlLWJ1dHRvbicpXHJcblx0cHVyY2hhc2VCdXR0b24udGV4dENvbnRlbnQgPSAnQUREIFRPIENBUlQnXHJcblx0cmV0dXJuIHB1cmNoYXNlQnV0dG9uXHJcbn1cclxuY29uc3QgY3JlYXRlUHJvZHVjdFByaWNlID0gcHJvZHVjdHMgPT4ge1xyXG5cdGNvbnN0IHByb2R1Y3RQcmljZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKVxyXG5cdHByb2R1Y3RQcmljZS5jbGFzc0xpc3QuYWRkKCdwcm9kdWN0LXByaWNlJylcclxuXHRwcm9kdWN0UHJpY2UudGV4dENvbnRlbnQgPSBwcm9kdWN0cy5wcmljZSArICckJ1xyXG5cdHJldHVybiBwcm9kdWN0UHJpY2VcclxufVxyXG5jb25zdCBjcmVhdGVQcm9kdWN0TmFtZSA9IHByb2R1Y3RzID0+IHtcclxuXHRjb25zdCBwcm9kdWN0TmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKVxyXG5cdHByb2R1Y3ROYW1lLmNsYXNzTGlzdC5hZGQoJ3Byb2R1Y3QtbmFtZScpXHJcblx0cHJvZHVjdE5hbWUudGV4dENvbnRlbnQgPSBwcm9kdWN0cy5uYW1lXHJcblx0cmV0dXJuIHByb2R1Y3ROYW1lXHJcbn1cclxuY29uc3QgY3JlYXRlUHJvZHVjdEltYWdlID0gcHJvZHVjdHMgPT4ge1xyXG5cdGNvbnN0IHByb2R1Y3RJbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpXHJcblx0cHJvZHVjdEltYWdlLmNsYXNzTGlzdC5hZGQoJ3Byb2R1Y3QtaW1hZ2UnKVxyXG5cdHByb2R1Y3RJbWFnZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIHByb2R1Y3RzLmltYWdlKVxyXG5cdHJldHVybiBwcm9kdWN0SW1hZ2VcclxufVxyXG5jb25zdCBjcmVhdGVQcm9kdWN0TGlzdEl0ZW0gPSBwcm9kdWN0cyA9PiB7XHJcblx0Y29uc3QgcHJvZHVjdExpc3RJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKVxyXG5cdHByb2R1Y3RMaXN0SXRlbS5jbGFzc0xpc3QuYWRkKCdwcm9kdWN0LWxpc3QtaXRlbScpXHJcblx0cHJvZHVjdExpc3RJdGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1pZCcsIHByb2R1Y3RzLmlkKVxyXG5cdHByb2R1Y3RMaXN0SXRlbS5hcHBlbmQoXHJcblx0XHRjcmVhdGVQcm9kdWN0SW1hZ2UocHJvZHVjdHMpLFxyXG5cdFx0Y3JlYXRlUHJvZHVjdE5hbWUocHJvZHVjdHMpLFxyXG5cdFx0Y3JlYXRlUHJvZHVjdFByaWNlKHByb2R1Y3RzKSxcclxuXHRcdGNyZWF0ZUJ1dHRvbnNDb250YWluZXIoKVxyXG5cdClcclxuXHRyZXR1cm4gcHJvZHVjdExpc3RJdGVtXHJcbn1cclxuY29uc3QgY3JlYXRlUHJvZHVjdHNMaXN0ID0gcHJvZHVjdHMgPT4ge1xyXG5cdGNvbnN0IHByb2R1Y3RMaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKVxyXG5cdHByb2R1Y3RMaXN0LmNsYXNzTGlzdC5hZGQoJ3Byb2R1Y3RzLWxpc3QnKVxyXG5cdHByb2R1Y3RzLmZvckVhY2gocHJvZHVjdCA9PiB7XHJcblx0XHRwcm9kdWN0TGlzdC5hcHBlbmQoY3JlYXRlUHJvZHVjdExpc3RJdGVtKHByb2R1Y3QpKVxyXG5cdH0pXHJcblx0cmV0dXJuIHByb2R1Y3RMaXN0XHJcbn1cclxuY29uc3QgcmVuZGVyUHJvZHVjdHMgPSBwcm9kdWN0cyA9PiB7XHJcblx0Y29uc3QgbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtYWluJylcclxuXHRtYWluLmFwcGVuZChjcmVhdGVQcm9kdWN0c0xpc3QocHJvZHVjdHMpKVxyXG5cdHJldHVybiBtYWluXHJcbn1cclxucmVuZGVyUHJvZHVjdHMocHJvZHVjdHMpXHJcbmNvbnN0IHB1cmNoYXNlZFByb2R1Y3RBbW91bnRDb3VudGVyID0gKCkgPT4ge1xyXG5cdGxldCBhbW91bnRDb3VudGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpXHJcblx0YW1vdW50Q291bnRlci50ZXh0Q29udGVudCA9IDFcclxuXHRhbW91bnRDb3VudGVyLmNsYXNzTGlzdC5hZGQoJ2Jhc2tldF9fYW1vdW50LWNvdW50ZXInKVxyXG5cdHJldHVybiBhbW91bnRDb3VudGVyXHJcbn1cclxuY29uc3QgcHVyY2hhc2VkUHJvZHVjdEFtb3VudFBsdXNCdXR0b24gPSAoKSA9PiB7XHJcblx0Y29uc3QgcGx1c0J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXHJcblx0cGx1c0J1dHRvbi5pbm5lckhUTUwgPVxyXG5cdFx0JzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiMwMDgwMDBcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgY2xhc3M9XCJmZWF0aGVyIGZlYXRoZXItcGx1cy1jaXJjbGVcIj48Y2lyY2xlIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjEwXCI+PC9jaXJjbGU+PGxpbmUgeDE9XCIxMlwiIHkxPVwiOFwiIHgyPVwiMTJcIiB5Mj1cIjE2XCI+PC9saW5lPjxsaW5lIHgxPVwiOFwiIHkxPVwiMTJcIiB4Mj1cIjE2XCIgeTI9XCIxMlwiPjwvbGluZT48L3N2Zz4nXHJcblx0cGx1c0J1dHRvbi5jbGFzc0xpc3QuYWRkKCdiYXNrZXRfX3B1cmNoYXNlZC1wbHVzLS1idXR0b24nKVxyXG5cdHBsdXNCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG5cdFx0bGV0IGNvdW50ZXIgPSBOdW1iZXIoZS50YXJnZXQuY2xvc2VzdCgnZGl2JykuY2hpbGRyZW5bMV0udGV4dENvbnRlbnQpXHJcblx0XHRjb3VudGVyKytcclxuXHRcdGUudGFyZ2V0LmNsb3Nlc3QoJ2RpdicpLmNoaWxkcmVuWzFdLnRleHRDb250ZW50ID0gY291bnRlclxyXG5cdH0pXHJcblx0cmV0dXJuIHBsdXNCdXR0b25cclxufVxyXG5jb25zdCBwdXJjaGFzZWRQcm9kdWN0QW1vdW50TWludXNCdXR0b24gPSAoKSA9PiB7XHJcblx0Y29uc3QgbWludXNCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxyXG5cdG1pbnVzQnV0dG9uLmlubmVySFRNTCA9XHJcblx0XHQnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiI0ZGMDAwMFwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBjbGFzcz1cImZlYXRoZXIgZmVhdGhlci1taW51cy1jaXJjbGVcIj48Y2lyY2xlIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjEwXCI+PC9jaXJjbGU+PGxpbmUgeDE9XCI4XCIgeTE9XCIxMlwiIHgyPVwiMTZcIiB5Mj1cIjEyXCI+PC9saW5lPjwvc3ZnPidcclxuXHRtaW51c0J1dHRvbi5jbGFzc0xpc3QuYWRkKCdiYXNrZXRfX3B1cmNoYXNlZC1taW51cy0tYnV0dG9uJylcclxuXHRtaW51c0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcblx0XHRsZXQgY291bnRlciA9IE51bWJlcihlLnRhcmdldC5jbG9zZXN0KCdkaXYnKS5jaGlsZHJlblsxXS50ZXh0Q29udGVudClcclxuXHRcdGNvdW50ZXItLVxyXG5cdFx0ZS50YXJnZXQuY2xvc2VzdCgnZGl2JykuY2hpbGRyZW5bMV0udGV4dENvbnRlbnQgPSBjb3VudGVyXHJcblx0fSlcclxuXHRyZXR1cm4gbWludXNCdXR0b25cclxufVxyXG5jb25zdCBwdXJjaGFzZWRQcm9kdWN0QW1vdW50Q29udGFpbmVyID0gKCkgPT4ge1xyXG5cdGNvbnN0IGFtb3VudENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcblx0YW1vdW50Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2Jhc2tldF9fcHVyY2hhc2VkLWFtb3VudC1jb250YWluZXInKVxyXG5cdGFtb3VudENvbnRhaW5lci5hcHBlbmQoXHJcblx0XHRwdXJjaGFzZWRQcm9kdWN0QW1vdW50TWludXNCdXR0b24oKSxcclxuXHRcdHB1cmNoYXNlZFByb2R1Y3RBbW91bnRDb3VudGVyKCksXHJcblx0XHRwdXJjaGFzZWRQcm9kdWN0QW1vdW50UGx1c0J1dHRvbigpXHJcblx0KVxyXG5cdHJldHVybiBhbW91bnRDb250YWluZXJcclxufVxyXG5jb25zdCBwdXJjaGFzZWRQcm9kdWN0TmFtZSA9IHB1cmNoYXNlZFByb2R1Y3RJZCA9PiB7XHJcblx0Y29uc3QgcHVyY2hhc2VkUHJvZHVjdE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJylcclxuXHRwdXJjaGFzZWRQcm9kdWN0TmFtZS50ZXh0Q29udGVudCA9IHByb2R1Y3RzW3B1cmNoYXNlZFByb2R1Y3RJZF0ubmFtZVxyXG5cdHB1cmNoYXNlZFByb2R1Y3ROYW1lLmNsYXNzTGlzdC5hZGQoJ2Jhc2tldF9fcHVyY2hhc2VkLW5hbWUnKVxyXG5cdHJldHVybiBwdXJjaGFzZWRQcm9kdWN0TmFtZVxyXG59XHJcbmNvbnN0IHB1cmNoYXNlZFByb2R1Y3RQcmljZSA9IHB1cmNoYXNlZFByb2R1Y3RJZCA9PiB7XHJcblx0Y29uc3QgcHVyY2hhc2VkUHJvZHVjdFByaWNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpXHJcblx0cHVyY2hhc2VkUHJvZHVjdFByaWNlLnRleHRDb250ZW50ID1cclxuXHRcdHByb2R1Y3RzW3B1cmNoYXNlZFByb2R1Y3RJZF0ucHJpY2UgKiBwdXJjaGFzZWRQcm9kdWN0QW1vdW50Q291bnRlcigpLnRleHRDb250ZW50ICsgJyQnXHJcblx0cHVyY2hhc2VkUHJvZHVjdFByaWNlLmNsYXNzTGlzdC5hZGQoJ2Jhc2tldF9fcHVyY2hhc2VkLXByaWNlJylcclxuXHRyZXR1cm4gcHVyY2hhc2VkUHJvZHVjdFByaWNlXHJcbn1cclxuY29uc3QgcHVyY2hhc2VkUHJvZHVjdEltYWdlID0gcHVyY2hhc2VkUHJvZHVjdElkID0+IHtcclxuXHRjb25zdCBwdXJjaGFzZWRQcm9kdWN0SW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKVxyXG5cdHB1cmNoYXNlZFByb2R1Y3RJbWFnZS5jbGFzc0xpc3QuYWRkKCdwcm9kdWN0LWltYWdlJylcclxuXHRwdXJjaGFzZWRQcm9kdWN0SW1hZ2Uuc2V0QXR0cmlidXRlKCdzcmMnLCBwcm9kdWN0c1twdXJjaGFzZWRQcm9kdWN0SWRdLmltYWdlKVxyXG5cdHJldHVybiBwdXJjaGFzZWRQcm9kdWN0SW1hZ2VcclxufVxyXG5jb25zdCByZW1vdmVGcm9tQmFza2V0ID0gZSA9PiB7XHJcblx0Y29uc3QgcHVyY2hhc2VkUHJvZHVjdElkID0gZS50YXJnZXQuY2xvc2VzdCgnbGknKS5kYXRhc2V0LmlkXHJcblx0Y29uc3QgcHVyY2hhc2VkUHJvZHVjdFByaWNlVmFsdWUgPSBwcm9kdWN0c1twdXJjaGFzZWRQcm9kdWN0SWRdLnByaWNlXHJcblx0Y29uc3QgcHJvZHVjdFRvRGVsZXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZS50YXJnZXQuY2xvc2VzdCgnbGknKS5kYXRhc2V0LmlkKVxyXG5cdGJhc2tldFRvdGFsIC09IHB1cmNoYXNlZFByb2R1Y3RQcmljZVZhbHVlXHJcblx0YmFza2V0VmFsdWUudGV4dENvbnRlbnQgPSBiYXNrZXRUb3RhbC50b0ZpeGVkKDIpICsgJyQnXHJcblx0YmFza2V0TGlzdC5yZW1vdmVDaGlsZChwcm9kdWN0VG9EZWxldGUpXHJcblx0aWYgKGJhc2tldExpc3QuY2hpbGRyZW4ubGVuZ3RoID09PSAyKSB7XHJcblx0XHRiYXNrZXRJY29uLmNsYXNzTGlzdC5yZW1vdmUoJ2luLWFjdGl2ZScpXHJcblx0XHRiYXNrZXRUZXh0LmNsYXNzTGlzdC5yZW1vdmUoJ2luLWFjdGl2ZScpXHJcblx0fVxyXG59XHJcbmNvbnN0IGFkZFRvQmFza2V0ID0gZSA9PiB7XHJcblx0aWYgKGJhc2tldExpc3QgIT09ICcnKSB7XHJcblx0XHRiYXNrZXRJY29uLmNsYXNzTGlzdC5hZGQoJ2luLWFjdGl2ZScpXHJcblx0XHRiYXNrZXRUZXh0LmNsYXNzTGlzdC5hZGQoJ2luLWFjdGl2ZScpXHJcblx0fVxyXG5cdGNvbnN0IHB1cmNoYXNlZFByb2R1Y3RJZCA9IGUudGFyZ2V0LmNsb3Nlc3QoJ2xpJykuZGF0YXNldC5pZFxyXG5cdGNvbnN0IHB1cmNoYXNlZExpc3RJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKVxyXG5cdHB1cmNoYXNlZExpc3RJdGVtLnNldEF0dHJpYnV0ZSgnaWQnLCBwcm9kdWN0c1twdXJjaGFzZWRQcm9kdWN0SWRdLmlkKVxyXG5cdHB1cmNoYXNlZExpc3RJdGVtLmNsYXNzTGlzdC5hZGQoJ2Jhc2tldF9fcHVyY2hhc2VkLWl0ZW0nKVxyXG5cdHB1cmNoYXNlZExpc3RJdGVtLmFwcGVuZChcclxuXHRcdHB1cmNoYXNlZFByb2R1Y3RJbWFnZShwdXJjaGFzZWRQcm9kdWN0SWQpLFxyXG5cdFx0cHVyY2hhc2VkUHJvZHVjdFByaWNlKHB1cmNoYXNlZFByb2R1Y3RJZCksXHJcblx0XHRwdXJjaGFzZWRQcm9kdWN0TmFtZShwdXJjaGFzZWRQcm9kdWN0SWQpLFxyXG5cdFx0cHVyY2hhc2VkUHJvZHVjdEFtb3VudENvbnRhaW5lcigpXHJcblx0XHQpXHJcblx0YmFza2V0VG90YWwgKz0gcHJvZHVjdHNbcHVyY2hhc2VkUHJvZHVjdElkXS5wcmljZSAqIHB1cmNoYXNlZFByb2R1Y3RBbW91bnRDb3VudGVyKCkudGV4dENvbnRlbnRcclxuXHRiYXNrZXRWYWx1ZS50ZXh0Q29udGVudCA9IGJhc2tldFRvdGFsLnRvRml4ZWQoMikgKyAnJCdcclxuXHRiYXNrZXRMaXN0LmFwcGVuZChwdXJjaGFzZWRMaXN0SXRlbSlcclxufVxyXG5cclxuY29uc3QgY291bnRQcm9kdWN0SW5CYXNrZXQgPSAoKSA9PiB7XHJcblx0Y29uc3QgcHVyY2hhc2VCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnB1cmNoYXNlLWJ1dHRvbicpXHJcblx0cHVyY2hhc2VCdXR0b25zLmZvckVhY2goYnV0dG9uID0+IHtcclxuXHRcdGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG5cdFx0XHRjb25zdCBjbGlja2VkQnRuID0gZS50YXJnZXRcclxuXHRcdFx0aWYgKGNsaWNrZWRCdG4udGV4dENvbnRlbnQgPT09ICdBREQgVE8gQ0FSVCcpIHtcclxuXHRcdFx0XHRjbGlja2VkQnRuLnRleHRDb250ZW50ID0gJ1JFTU9WRSdcclxuXHRcdFx0XHRjbGlja2VkQnRuLmNsYXNzTGlzdC5hZGQoJ3JlbW92ZS1mcm9tLWJhc2tldCcpXHJcblx0XHRcdFx0Y291bnRlcisrXHJcblx0XHRcdFx0YWRkVG9CYXNrZXQoZSlcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRjbGlja2VkQnRuLnRleHRDb250ZW50ID0gJ0FERCBUTyBDQVJUJ1xyXG5cdFx0XHRcdGNsaWNrZWRCdG4uY2xhc3NMaXN0LnJlbW92ZSgncmVtb3ZlLWZyb20tYmFza2V0JylcclxuXHRcdFx0XHRjb3VudGVyLS1cclxuXHRcdFx0XHRyZW1vdmVGcm9tQmFza2V0KGUpXHJcblx0XHRcdH1cclxuXHRcdFx0YmFza2V0Q291bnRlci50ZXh0Q29udGVudCA9IGNvdW50ZXJcclxuXHRcdH0pXHJcblx0fSlcclxufVxyXG5jb25zdCBvcGVuQmFza2V0ID0gKCkgPT4ge1xyXG5cdGlmICh3aW5kb3cuc2NyZWVuLndpZHRoIDw9IDc2OCkge1xyXG5cdFx0YmFza2V0LmNsYXNzTGlzdC5hZGQoJ2Jhc2tldC1hY3RpdmUtbW9iaWxlJylcclxuXHR9IGVsc2UgaWYgKHdpbmRvdy5zY3JlZW4ud2lkdGggPiA3NjkpIHtcclxuXHRcdGJhc2tldC5jbGFzc0xpc3QuYWRkKCdiYXNrZXQtYWN0aXZlLWRlc2t0b3AnKVxyXG5cdH1cclxufVxyXG5jb25zdCBjbG9zZUJhc2tldCA9ICgpID0+IHtcclxuXHRiYXNrZXQuY2xhc3NMaXN0LnJlbW92ZSgnYmFza2V0LWFjdGl2ZS1tb2JpbGUnKVxyXG5cdGJhc2tldC5jbGFzc0xpc3QucmVtb3ZlKCdiYXNrZXQtYWN0aXZlLWRlc2t0b3AnKVxyXG59XHJcbmJhc2tldEJhY2tCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUJhc2tldClcclxuYmFza2V0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkJhc2tldClcclxuY291bnRQcm9kdWN0SW5CYXNrZXQoKVxyXG4iXX0=
