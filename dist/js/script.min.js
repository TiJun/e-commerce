"use strict";var basketCounter=document.querySelector(".header__basket-counter"),basketButton=document.querySelector(".header__basket-button"),basket=document.querySelector(".basket"),basketBackButton=document.querySelector(".basket__button"),basketList=document.querySelector(".basket__list"),basketText=document.querySelector(".basket__text"),basketIcon=document.querySelector(".basket__icon"),basketValue=document.querySelector(".basket__total--number"),basketTotalNumber=0,counter=(basketValue.textContent=basketTotalNumber+"$",0),createInput=(basketCounter.textContent=counter,function(){var a=document.createElement("input");return a.classList.add("product-input"),a.value=1,a.addEventListener("keydown",function(t){var e=a.closest("div").querySelector("button");"0"===t.key||"Backspace"===t.key?(e.setAttribute("disabled","true"),e.classList.add("disabled-button")):(e.removeAttribute("disabled"),e.classList.remove("disabled-button"))}),a}),createButtonsContainer=function(){var t=document.createElement("div");return t.classList.add("buttons-container"),t.append(createPurchaseButton(),createInput()),t},createPurchaseButton=function(){var t=document.createElement("button");return t.classList.add("purchase-button"),t.textContent="ADD TO CART",t},createProductPrice=function(t){var e=document.createElement("p");return e.classList.add("product-price"),e.textContent=t.price+"$",e},createProductName=function(t){var e=document.createElement("p");return e.classList.add("product-name"),e.textContent=t.name,e},createProductImage=function(t){var e=document.createElement("img");return e.classList.add("product-image"),e.setAttribute("src",t.image),e},createProductListItem=function(t){var e=document.createElement("li");return e.classList.add("product-list-item"),e.setAttribute("id",t.id),e.append(createProductImage(t),createProductName(t),createProductPrice(t),createButtonsContainer()),e},createProductsList=function(t){var e=document.createElement("ul");return e.classList.add("products-list"),t.forEach(function(t){e.append(createProductListItem(t))}),e},renderProducts=function(t){var e=document.querySelector("#main");return e.append(createProductsList(t)),e},purchasedProductName=(renderProducts(products),function(t){var e;return(e=document.createElement("p")).textContent=products[t].name,e.classList.add("basket__purchased-name"),e}),purchasedProductPrice=function(t){var e;return(e=document.createElement("p")).textContent=products[t].price+"$",e.classList.add("basket__purchased-price"),e},purchasedProductImage=function(t){var e;return(e=document.createElement("img")).classList.add("product-image"),e.setAttribute("src",products[t].image),e},removeFromBasket=function(t){var t=t.target.closest("li").id,e=products[t].price,t=document.getElementById(t);basketTotalNumber-=e,basketValue.textContent=basketTotalNumber.toFixed(2)+"$",basketList.removeChild(t),2===basketList.children.length&&(basketIcon.classList.remove("in-active"),basketText.classList.remove("in-active"))},createRemoveButton=function(t){var e=document.createElement("button");return e.classList.add("basket__remove-from-cart"),e.textContent="REMOVE",e.addEventListener("click",function(t){removeFromBasket(t),counter--,basketCounter.textContent=counter;t=document.querySelector(".products-list").children[t.target.closest("li").id].querySelector("button");t.textContent="ADD TO CART",t.classList.remove("remove-from-basket")}),e},addToBasket=function(t){""!==basketList&&(basketIcon.classList.add("in-active"),basketText.classList.add("in-active"));var e=t.target.closest("li").querySelector("input").value,t=t.target.closest("li").id,a=document.createElement("li");a.setAttribute("id",products[t].id),a.classList.add("basket__purchased-item"),a.append(purchasedProductImage(t),purchasedProductPrice(t),purchasedProductName(t),createRemoveButton()),basketTotalNumber+=products[t].price*e,basketValue.textContent=basketTotalNumber.toFixed(2)+"$",basketList.append(a)},countProductInBasket=function(){document.querySelectorAll(".purchase-button").forEach(function(t){t.addEventListener("click",function(t){var e=t.target;("ADD TO CART"===e.textContent?(e.textContent="REMOVE",e.classList.add("remove-from-basket"),counter++,addToBasket):(e.textContent="ADD TO CART",e.classList.remove("remove-from-basket"),counter--,removeFromBasket))(t),basketCounter.textContent=counter})})},openBasket=function(){window.screen.width<=768?basket.classList.add("basket-active-mobile"):769<window.screen.width&&basket.classList.add("basket-active-desktop")},closeBasket=function(){basket.classList.remove("basket-active-mobile"),basket.classList.remove("basket-active-desktop")};basketBackButton.addEventListener("click",closeBasket),basketButton.addEventListener("click",openBasket),countProductInBasket();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJiYXNrZXRDb3VudGVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYmFza2V0QnV0dG9uIiwiYmFza2V0IiwiYmFza2V0QmFja0J1dHRvbiIsImJhc2tldExpc3QiLCJiYXNrZXRUZXh0IiwiYmFza2V0SWNvbiIsImJhc2tldFRvdGFsTnVtYmVyIiwiYmFza2V0VmFsdWUiLCJjb3VudGVyIiwidGV4dENvbnRlbnQiLCJpbnB1dCIsImNyZWF0ZUlucHV0IiwiYWRkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJ2YWx1ZSIsImNsb3Nlc3QiLCJrZXkiLCJhZGRUb0NhcnRCdXR0b24iLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJjcmVhdGVCdXR0b25zQ29udGFpbmVyIiwiYnV0dG9uc0NvbnRhaW5lciIsImNyZWF0ZUVsZW1lbnQiLCJjcmVhdGVQdXJjaGFzZUJ1dHRvbiIsInB1cmNoYXNlQnV0dG9uIiwiY3JlYXRlUHJvZHVjdFByaWNlIiwicHJvZHVjdHMiLCJwcm9kdWN0UHJpY2UiLCJjcmVhdGVQcm9kdWN0TmFtZSIsInByb2R1Y3ROYW1lIiwiY3JlYXRlUHJvZHVjdEltYWdlIiwicHJvZHVjdEltYWdlIiwiaW1hZ2UiLCJjcmVhdGVQcm9kdWN0TGlzdEl0ZW0iLCJwcm9kdWN0TGlzdEl0ZW0iLCJhcHBlbmQiLCJzZXRBdHRyaWJ1dGUiLCJwcm9kdWN0TGlzdCIsInByb2R1Y3QiLCJtYWluIiwicmVuZGVyUHJvZHVjdHMiLCJwdXJjaGFzZWRQcm9kdWN0TmFtZSIsInB1cmNoYXNlZFByb2R1Y3RJZCIsIm5hbWUiLCJwdXJjaGFzZWRQcm9kdWN0UHJpY2UiLCJwcmljZSIsInB1cmNoYXNlZFByb2R1Y3RJbWFnZSIsInJlbW92ZUZyb21CYXNrZXQiLCJwcm9kdWN0VG9EZWxldGUiLCJwdXJjaGFzZWRQcm9kdWN0UHJpY2VWYWx1ZSIsImlkIiwiY2hpbGRyZW4iLCJ0b0ZpeGVkIiwibGVuZ3RoIiwiY3JlYXRlUmVtb3ZlQnV0dG9uIiwicmVtb3ZlQnV0dG9uIiwicHJvZHVjdHNMaXN0IiwiYnRuIiwidGFyZ2V0IiwicHJvZHVjdElucHV0VmFsdWUiLCJwdXJjaGFzZWRMaXN0SXRlbSIsImNvdW50UHJvZHVjdEluQmFza2V0IiwicXVlcnlTZWxlY3RvckFsbCIsInB1cmNoYXNlQnV0dG9ucyIsImZvckVhY2giLCJjbGlja2VkQnRuIiwiYnV0dG9uIiwiYWRkVG9CYXNrZXQiLCJvcGVuQmFza2V0Iiwid2luZG93IiwiY2xvc2VCYXNrZXQiXSwibWFwcGluZ3MiOiJhQUFBLElBQU1BLGNBQWdCQyxTQUFTQyxjQUFjLHlCQUF5QixFQUNoRUMsYUFBZUYsU0FBU0MsY0FBYyx3QkFBd0IsRUFEOURGLE9BQUFBLFNBQWdCQyxjQUFTQyxTQUFjLEVBQ3ZDQyxpQkFBZUYsU0FBU0MsY0FBYyxpQkFBQSxFQUN0Q0UsV0FBU0gsU0FBU0MsY0FBYyxlQUFVLEVBQzFDRyxXQUFBQSxTQUFtQkosY0FBU0MsZUFBYyxFQUM1Q0ksV0FBYUwsU0FBU0MsY0FBYyxlQUFnQixFQUNsREssWUFBYU4sU0FBU0MsY0FBYyx3QkFBZ0IsRUFDcERNLGtCQUFhUCxFQUVmUSxTQURKQyxZQUFJQSxZQUFzQkQsa0JBQWUsSUFDckNBLEdBRUFFLGFBREpELGNBQVlFLFlBQWNILFFBQ1gsV0FDZlQsSUFBQUEsRUFBY1ksU0FBQUEsY0FBcUIsT0FBQSxFQWVsQyxPQWREQyxFQUFNQyxVQUFXQyxJQUFHLGVBQWRELEVBR0xELEVBRk1BLE1BQVFaLEVBR2RZLEVBRktHLGlCQUFlLFVBQUEsU0FBQUMsR0FDcEJKLElBQU1LLEVBQVNMLEVBQUFNLFFBQUEsS0FBQSxFQUFBakIsY0FBQSxRQUFBLEVBQ1RjLE1BQU5ILEVBQUtPLEtBQWtCLGNBQWpCSixFQUFnQkksS0FHcEJDLEVBRktBLGFBQXdCRixXQUFRLE1BQU9qQixFQUc1Q21CLEVBRllDLFVBQVNGLElBQUcsaUJBQWtCLElBSTFDQyxFQUZBQSxnQkFBNkIsVUFBQyxFQUc5QkEsRUFGS0MsVUFBQUMsT0FB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QUFBSixDQUFBLEVBQ0RFLHNCQUEwQkYsQ0FBcEJtQixFQUNMcEIscUJBQXFCQyxDQUFZb0IsRUFDakNDLG1CQUFnQkMsQ0FQaEIsRUFDQTNELG1CQVFxQlEsU0FBUTZCLEdBQUFHLE1BQUFjLEVBUDdCckQsWUFRTTJELFlBQVd6RCxrQkFBZ0I0QyxRQUFlLENBQUEsRUFBQSxJQVBoRGxELFdBUUcrRCxPQUFXekQsQ0FBYyxDQVA3QixFQUNNcUQscUJBUU8sV0FDS2hFLFNBQUFpRSxpQkFBQSxrQkFBQSxFQUNSRSxRQUFBLFNBQUFFLEdBUFJBLEVBUUVELGlCQUFXekQsUUFBYyxTQUFBSyxHQVAxQixJQVFDb0QsRUFBVy9DLEVBQUFBLFFBQ0YsZ0JBUk4rQyxFQVFNekQsYUFQVHlELEVBUUFsQixZQUFtQixTQVBuQmtCLEVBUUQvQyxVQUFBUCxJQUFBLG9CQUFBLEVBUENKLE9BUURYLEdBQ0R1RSxjQUVERixFQUFBekQsWUFBQSxjQUNLNEQsRUFBVWxELFVBQUdDLE9BQWJpRCxvQkFBbUIsRUFDeEI3RCxPQUFJOEQsR0FDSHJFLG1CQUxFYSxDQUFBLEVBRERqQixjQVFNc0IsWUFBY1gsT0FDdEIsQ0FBQSxDQUNBLENBQUEsQ0FDRCxFQUNDUCxXQUFpQm1CLFdBQ2pCbkIsT0FBT2tCLE9BQVVDLE9BQU8sSUFDeEJuQixPQUFBa0IsVUFBQVAsSUFBQSxzQkFBQSxFQUNpQyxJQUFsQ1YsT0FBaUJXLE9BQUFBLE9BQ2pCYixPQUFBQSxVQUFhYSxJQUFBQSx1QkFBMEJ3RCxDQU52QyxFQUNNRSxZQUFjLFdBQ25CdEUsT0FBT2tCLFVBQVVDLE9BQU8sc0JBQXNCLEVBQzlDbkIsT0FBT2tCLFVBQVVDLE9BQU8sdUJBQXVCLENBQ2hELEVBQ0FsQixpQkFBaUJXLGlCQUFpQixRQUFTMEQsV0FBVyxFQUN0RHZFLGFBQWFhLGlCQUFpQixRQUFTd0QsVUFBVSxFQUNqRFAscUJBQXFCIiwiZmlsZSI6InNjcmlwdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBiYXNrZXRDb3VudGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fYmFza2V0LWNvdW50ZXInKVxyXG5jb25zdCBiYXNrZXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19iYXNrZXQtYnV0dG9uJylcclxuY29uc3QgYmFza2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJhc2tldCcpXHJcbmNvbnN0IGJhc2tldEJhY2tCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmFza2V0X19idXR0b24nKVxyXG5sZXQgYmFza2V0TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iYXNrZXRfX2xpc3QnKVxyXG5jb25zdCBiYXNrZXRUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJhc2tldF9fdGV4dCcpXHJcbmNvbnN0IGJhc2tldEljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmFza2V0X19pY29uJylcclxubGV0IGJhc2tldFZhbHVlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJhc2tldF9fdG90YWwtLW51bWJlcicpXHJcbmxldCBiYXNrZXRUb3RhbE51bWJlciA9IDBcclxuYmFza2V0VmFsdWUudGV4dENvbnRlbnQgPSBiYXNrZXRUb3RhbE51bWJlciArICckJ1xyXG5sZXQgY291bnRlciA9IDBcclxuYmFza2V0Q291bnRlci50ZXh0Q29udGVudCA9IGNvdW50ZXJcclxuY29uc3QgY3JlYXRlSW5wdXQgPSAoKSA9PiB7XHJcblx0Y29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpXHJcblx0aW5wdXQuY2xhc3NMaXN0LmFkZCgncHJvZHVjdC1pbnB1dCcpXHJcblx0aW5wdXQudmFsdWUgPSAxXHJcblx0aW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7XHJcblx0XHRjb25zdCBhZGRUb0NhcnRCdXR0b24gPSBpbnB1dC5jbG9zZXN0KCdkaXYnKS5xdWVyeVNlbGVjdG9yKCdidXR0b24nKVxyXG5cdFx0aWYoZS5rZXkgPT09ICcwJyB8fCBlLmtleSA9PT0gJ0JhY2tzcGFjZScpIHtcclxuXHRcdFx0YWRkVG9DYXJ0QnV0dG9uLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAndHJ1ZScpO1xyXG5cdFx0XHRhZGRUb0NhcnRCdXR0b24uY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQtYnV0dG9uJylcclxuXHRcdH1lbHNlIHtcclxuXHRcdFx0YWRkVG9DYXJ0QnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKVxyXG5cdFx0XHRhZGRUb0NhcnRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZWQtYnV0dG9uJylcclxuXHRcdH1cclxuXHR9KVxyXG5cdHJldHVybiBpbnB1dFxyXG59XHJcbmNvbnN0IGNyZWF0ZUJ1dHRvbnNDb250YWluZXIgPSAoKSA9PiB7XHJcblx0Y29uc3QgYnV0dG9uc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcblx0YnV0dG9uc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdidXR0b25zLWNvbnRhaW5lcicpXHJcblx0YnV0dG9uc0NvbnRhaW5lci5hcHBlbmQoY3JlYXRlUHVyY2hhc2VCdXR0b24oKSwgY3JlYXRlSW5wdXQoKSlcclxuXHRyZXR1cm4gYnV0dG9uc0NvbnRhaW5lclxyXG59XHJcbmNvbnN0IGNyZWF0ZVB1cmNoYXNlQnV0dG9uID0gKCkgPT4ge1xyXG5cdGNvbnN0IHB1cmNoYXNlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcclxuXHRwdXJjaGFzZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdwdXJjaGFzZS1idXR0b24nKVxyXG5cdHB1cmNoYXNlQnV0dG9uLnRleHRDb250ZW50ID0gJ0FERCBUTyBDQVJUJ1xyXG5cdHJldHVybiBwdXJjaGFzZUJ1dHRvblxyXG59XHJcbmNvbnN0IGNyZWF0ZVByb2R1Y3RQcmljZSA9IHByb2R1Y3RzID0+IHtcclxuXHRjb25zdCBwcm9kdWN0UHJpY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJylcclxuXHRwcm9kdWN0UHJpY2UuY2xhc3NMaXN0LmFkZCgncHJvZHVjdC1wcmljZScpXHJcblx0cHJvZHVjdFByaWNlLnRleHRDb250ZW50ID0gcHJvZHVjdHMucHJpY2UgKyAnJCdcclxuXHRyZXR1cm4gcHJvZHVjdFByaWNlXHJcbn1cclxuY29uc3QgY3JlYXRlUHJvZHVjdE5hbWUgPSBwcm9kdWN0cyA9PiB7XHJcblx0Y29uc3QgcHJvZHVjdE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJylcclxuXHRwcm9kdWN0TmFtZS5jbGFzc0xpc3QuYWRkKCdwcm9kdWN0LW5hbWUnKVxyXG5cdHByb2R1Y3ROYW1lLnRleHRDb250ZW50ID0gcHJvZHVjdHMubmFtZVxyXG5cdHJldHVybiBwcm9kdWN0TmFtZVxyXG59XHJcbmNvbnN0IGNyZWF0ZVByb2R1Y3RJbWFnZSA9IHByb2R1Y3RzID0+IHtcclxuXHRjb25zdCBwcm9kdWN0SW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKVxyXG5cdHByb2R1Y3RJbWFnZS5jbGFzc0xpc3QuYWRkKCdwcm9kdWN0LWltYWdlJylcclxuXHRwcm9kdWN0SW1hZ2Uuc2V0QXR0cmlidXRlKCdzcmMnLCBwcm9kdWN0cy5pbWFnZSlcclxuXHRyZXR1cm4gcHJvZHVjdEltYWdlXHJcbn1cclxuY29uc3QgY3JlYXRlUHJvZHVjdExpc3RJdGVtID0gcHJvZHVjdHMgPT4ge1xyXG5cdGNvbnN0IHByb2R1Y3RMaXN0SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJylcclxuXHRwcm9kdWN0TGlzdEl0ZW0uY2xhc3NMaXN0LmFkZCgncHJvZHVjdC1saXN0LWl0ZW0nKVxyXG5cdHByb2R1Y3RMaXN0SXRlbS5zZXRBdHRyaWJ1dGUoJ2lkJywgcHJvZHVjdHMuaWQpXHJcblx0cHJvZHVjdExpc3RJdGVtLmFwcGVuZChcclxuXHRcdGNyZWF0ZVByb2R1Y3RJbWFnZShwcm9kdWN0cyksXHJcblx0XHRjcmVhdGVQcm9kdWN0TmFtZShwcm9kdWN0cyksXHJcblx0XHRjcmVhdGVQcm9kdWN0UHJpY2UocHJvZHVjdHMpLFxyXG5cdFx0Y3JlYXRlQnV0dG9uc0NvbnRhaW5lcigpXHJcblx0KVxyXG5cdHJldHVybiBwcm9kdWN0TGlzdEl0ZW1cclxufVxyXG5jb25zdCBjcmVhdGVQcm9kdWN0c0xpc3QgPSBwcm9kdWN0cyA9PiB7XHJcblx0Y29uc3QgcHJvZHVjdExpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpXHJcblx0cHJvZHVjdExpc3QuY2xhc3NMaXN0LmFkZCgncHJvZHVjdHMtbGlzdCcpXHJcblx0cHJvZHVjdHMuZm9yRWFjaChwcm9kdWN0ID0+IHtcclxuXHRcdHByb2R1Y3RMaXN0LmFwcGVuZChjcmVhdGVQcm9kdWN0TGlzdEl0ZW0ocHJvZHVjdCkpXHJcblx0fSlcclxuXHRyZXR1cm4gcHJvZHVjdExpc3RcclxufVxyXG5jb25zdCByZW5kZXJQcm9kdWN0cyA9IHByb2R1Y3RzID0+IHtcclxuXHRjb25zdCBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21haW4nKVxyXG5cdG1haW4uYXBwZW5kKGNyZWF0ZVByb2R1Y3RzTGlzdChwcm9kdWN0cykpXHJcblx0cmV0dXJuIG1haW5cclxufVxyXG5yZW5kZXJQcm9kdWN0cyhwcm9kdWN0cylcclxuY29uc3QgcHVyY2hhc2VkUHJvZHVjdE5hbWUgPSBwdXJjaGFzZWRQcm9kdWN0SWQgPT4ge1xyXG5cdGNvbnN0IHB1cmNoYXNlZFByb2R1Y3ROYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpXHJcblx0cHVyY2hhc2VkUHJvZHVjdE5hbWUudGV4dENvbnRlbnQgPSBwcm9kdWN0c1twdXJjaGFzZWRQcm9kdWN0SWRdLm5hbWVcclxuXHRwdXJjaGFzZWRQcm9kdWN0TmFtZS5jbGFzc0xpc3QuYWRkKCdiYXNrZXRfX3B1cmNoYXNlZC1uYW1lJylcclxuXHRyZXR1cm4gcHVyY2hhc2VkUHJvZHVjdE5hbWVcclxufVxyXG5jb25zdCBwdXJjaGFzZWRQcm9kdWN0UHJpY2UgPSBwdXJjaGFzZWRQcm9kdWN0SWQgPT4ge1xyXG5cdGNvbnN0IHB1cmNoYXNlZFByb2R1Y3RQcmljZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKVxyXG5cdHB1cmNoYXNlZFByb2R1Y3RQcmljZS50ZXh0Q29udGVudCA9IHByb2R1Y3RzW3B1cmNoYXNlZFByb2R1Y3RJZF0ucHJpY2UgKyAnJCdcclxuXHRwdXJjaGFzZWRQcm9kdWN0UHJpY2UuY2xhc3NMaXN0LmFkZCgnYmFza2V0X19wdXJjaGFzZWQtcHJpY2UnKVxyXG5cdHJldHVybiBwdXJjaGFzZWRQcm9kdWN0UHJpY2VcclxufVxyXG5jb25zdCBwdXJjaGFzZWRQcm9kdWN0SW1hZ2UgPSBwdXJjaGFzZWRQcm9kdWN0SWQgPT4ge1xyXG5cdGNvbnN0IHB1cmNoYXNlZFByb2R1Y3RJbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpXHJcblx0cHVyY2hhc2VkUHJvZHVjdEltYWdlLmNsYXNzTGlzdC5hZGQoJ3Byb2R1Y3QtaW1hZ2UnKVxyXG5cdHB1cmNoYXNlZFByb2R1Y3RJbWFnZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIHByb2R1Y3RzW3B1cmNoYXNlZFByb2R1Y3RJZF0uaW1hZ2UpXHJcblx0cmV0dXJuIHB1cmNoYXNlZFByb2R1Y3RJbWFnZVxyXG59XHJcbmNvbnN0IHJlbW92ZUZyb21CYXNrZXQgPSBlID0+IHtcclxuXHRjb25zdCBwdXJjaGFzZWRQcm9kdWN0SWQgPSBlLnRhcmdldC5jbG9zZXN0KCdsaScpLmlkXHJcblx0Y29uc3QgcHVyY2hhc2VkUHJvZHVjdFByaWNlVmFsdWUgPSBwcm9kdWN0c1twdXJjaGFzZWRQcm9kdWN0SWRdLnByaWNlXHJcblx0Y29uc3QgcHJvZHVjdFRvRGVsZXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocHVyY2hhc2VkUHJvZHVjdElkKVxyXG5cdGJhc2tldFRvdGFsTnVtYmVyIC09IHB1cmNoYXNlZFByb2R1Y3RQcmljZVZhbHVlXHJcblx0YmFza2V0VmFsdWUudGV4dENvbnRlbnQgPSBiYXNrZXRUb3RhbE51bWJlci50b0ZpeGVkKDIpICsgJyQnXHJcblx0YmFza2V0TGlzdC5yZW1vdmVDaGlsZChwcm9kdWN0VG9EZWxldGUpXHJcblx0aWYgKGJhc2tldExpc3QuY2hpbGRyZW4ubGVuZ3RoID09PSAyKSB7XHJcblx0XHRiYXNrZXRJY29uLmNsYXNzTGlzdC5yZW1vdmUoJ2luLWFjdGl2ZScpXHJcblx0XHRiYXNrZXRUZXh0LmNsYXNzTGlzdC5yZW1vdmUoJ2luLWFjdGl2ZScpXHJcblx0fVxyXG59XHJcbmNvbnN0IGNyZWF0ZVJlbW92ZUJ1dHRvbiA9IGUgPT4ge1xyXG5cdGNvbnN0IHJlbW92ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXHJcblx0cmVtb3ZlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2Jhc2tldF9fcmVtb3ZlLWZyb20tY2FydCcpXHJcblx0cmVtb3ZlQnV0dG9uLnRleHRDb250ZW50ID0gJ1JFTU9WRSdcclxuXHRyZW1vdmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuXHRcdHJlbW92ZUZyb21CYXNrZXQoZSlcclxuXHRcdGNvdW50ZXItLVxyXG5cdFx0YmFza2V0Q291bnRlci50ZXh0Q29udGVudCA9IGNvdW50ZXJcclxuXHRcdGNvbnN0IHByb2R1Y3RzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0cy1saXN0JylcclxuXHRcdGNvbnN0IGJ0biA9IHByb2R1Y3RzTGlzdC5jaGlsZHJlbltlLnRhcmdldC5jbG9zZXN0KCdsaScpLmlkXS5xdWVyeVNlbGVjdG9yKCdidXR0b24nKVxyXG5cdFx0YnRuLnRleHRDb250ZW50ID0gJ0FERCBUTyBDQVJUJ1xyXG5cdFx0YnRuLmNsYXNzTGlzdC5yZW1vdmUoJ3JlbW92ZS1mcm9tLWJhc2tldCcpXHJcblx0fSlcclxuXHRyZXR1cm4gcmVtb3ZlQnV0dG9uXHJcbn1cclxuY29uc3QgYWRkVG9CYXNrZXQgPSBlID0+IHtcclxuXHRpZiAoYmFza2V0TGlzdCAhPT0gJycpIHtcclxuXHRcdGJhc2tldEljb24uY2xhc3NMaXN0LmFkZCgnaW4tYWN0aXZlJylcclxuXHRcdGJhc2tldFRleHQuY2xhc3NMaXN0LmFkZCgnaW4tYWN0aXZlJylcclxuXHR9XHJcblx0Y29uc3QgcHJvZHVjdElucHV0VmFsdWUgPSBlLnRhcmdldC5jbG9zZXN0KCdsaScpLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykudmFsdWVcclxuXHRjb25zdCBwdXJjaGFzZWRQcm9kdWN0SWQgPSBlLnRhcmdldC5jbG9zZXN0KCdsaScpLmlkXHJcblx0Y29uc3QgcHVyY2hhc2VkTGlzdEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpXHJcblx0cHVyY2hhc2VkTGlzdEl0ZW0uc2V0QXR0cmlidXRlKCdpZCcsIHByb2R1Y3RzW3B1cmNoYXNlZFByb2R1Y3RJZF0uaWQpXHJcblx0cHVyY2hhc2VkTGlzdEl0ZW0uY2xhc3NMaXN0LmFkZCgnYmFza2V0X19wdXJjaGFzZWQtaXRlbScpXHJcblx0cHVyY2hhc2VkTGlzdEl0ZW0uYXBwZW5kKFxyXG5cdFx0cHVyY2hhc2VkUHJvZHVjdEltYWdlKHB1cmNoYXNlZFByb2R1Y3RJZCksXHJcblx0XHRwdXJjaGFzZWRQcm9kdWN0UHJpY2UocHVyY2hhc2VkUHJvZHVjdElkKSxcclxuXHRcdHB1cmNoYXNlZFByb2R1Y3ROYW1lKHB1cmNoYXNlZFByb2R1Y3RJZCksXHJcblx0XHRjcmVhdGVSZW1vdmVCdXR0b24oKVxyXG5cdClcclxuXHRiYXNrZXRUb3RhbE51bWJlciArPSAocHJvZHVjdHNbcHVyY2hhc2VkUHJvZHVjdElkXS5wcmljZSAqIHByb2R1Y3RJbnB1dFZhbHVlKVxyXG5cdGJhc2tldFZhbHVlLnRleHRDb250ZW50ID0gYmFza2V0VG90YWxOdW1iZXIudG9GaXhlZCgyKSArICckJ1xyXG5cdGJhc2tldExpc3QuYXBwZW5kKHB1cmNoYXNlZExpc3RJdGVtKVxyXG59XHJcbmNvbnN0IGNvdW50UHJvZHVjdEluQmFza2V0ID0gKCkgPT4ge1xyXG5cdGNvbnN0IHB1cmNoYXNlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wdXJjaGFzZS1idXR0b24nKVxyXG5cdHB1cmNoYXNlQnV0dG9ucy5mb3JFYWNoKGJ1dHRvbiA9PiB7XHJcblx0XHRidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuXHRcdFx0Y29uc3QgY2xpY2tlZEJ0biA9IGUudGFyZ2V0XHJcblx0XHRcdGlmIChjbGlja2VkQnRuLnRleHRDb250ZW50ID09PSAnQUREIFRPIENBUlQnKSB7XHJcblx0XHRcdFx0Y2xpY2tlZEJ0bi50ZXh0Q29udGVudCA9ICdSRU1PVkUnXHJcblx0XHRcdFx0Y2xpY2tlZEJ0bi5jbGFzc0xpc3QuYWRkKCdyZW1vdmUtZnJvbS1iYXNrZXQnKVxyXG5cdFx0XHRcdGNvdW50ZXIrK1xyXG5cdFx0XHRcdGFkZFRvQmFza2V0KGUpXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Y2xpY2tlZEJ0bi50ZXh0Q29udGVudCA9ICdBREQgVE8gQ0FSVCdcclxuXHRcdFx0XHRjbGlja2VkQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ3JlbW92ZS1mcm9tLWJhc2tldCcpXHJcblx0XHRcdFx0Y291bnRlci0tXHJcblx0XHRcdFx0cmVtb3ZlRnJvbUJhc2tldChlKVxyXG5cdFx0XHR9XHJcblx0XHRcdGJhc2tldENvdW50ZXIudGV4dENvbnRlbnQgPSBjb3VudGVyXHJcblx0XHR9KVxyXG5cdH0pXHJcbn1cclxuY29uc3Qgb3BlbkJhc2tldCA9ICgpID0+IHtcclxuXHRpZiAod2luZG93LnNjcmVlbi53aWR0aCA8PSA3NjgpIHtcclxuXHRcdGJhc2tldC5jbGFzc0xpc3QuYWRkKCdiYXNrZXQtYWN0aXZlLW1vYmlsZScpXHJcblx0fSBlbHNlIGlmICh3aW5kb3cuc2NyZWVuLndpZHRoID4gNzY5KSB7XHJcblx0XHRiYXNrZXQuY2xhc3NMaXN0LmFkZCgnYmFza2V0LWFjdGl2ZS1kZXNrdG9wJylcclxuXHR9XHJcbn1cclxuY29uc3QgY2xvc2VCYXNrZXQgPSAoKSA9PiB7XHJcblx0YmFza2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2Jhc2tldC1hY3RpdmUtbW9iaWxlJylcclxuXHRiYXNrZXQuY2xhc3NMaXN0LnJlbW92ZSgnYmFza2V0LWFjdGl2ZS1kZXNrdG9wJylcclxufVxyXG5iYXNrZXRCYWNrQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VCYXNrZXQpXHJcbmJhc2tldEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5CYXNrZXQpXHJcbmNvdW50UHJvZHVjdEluQmFza2V0KClcclxuIl19
