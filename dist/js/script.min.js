"use strict";var basketCounter=document.querySelector(".header__basket-counter"),basketButton=document.querySelector(".header__basket-button"),basket=document.querySelector(".basket"),basketBackButton=document.querySelector(".basket__button"),basketList=document.querySelector(".basket__list"),basketText=document.querySelector(".basket__text"),basketIcon=document.querySelector(".basket__icon"),basketValue=document.querySelector(".basket__total--number"),basketTotal=0,productsInBasket=[],counter=0,createFavoriteButton=(basketCounter.textContent=counter,function(){var t=document.createElement("button");return t.classList.add("favorite-button"),t.innerHTML='<svg class="favorite-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-heart"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>',t}),createButtonsContainer=function(){var t=document.createElement("div");return t.classList.add("buttons-container"),t.append(createPurchaseButton(),createFavoriteButton()),t},createPurchaseButton=function(){var t=document.createElement("button");return t.classList.add("purchase-button"),t.textContent="ADD TO CART",t},createProductPrice=function(t){var e=document.createElement("p");return e.classList.add("product-price"),e.textContent=t.price+"$",e},createProductName=function(t){var e=document.createElement("p");return e.classList.add("product-name"),e.textContent=t.name,e},createProductImage=function(t){var e=document.createElement("img");return e.classList.add("product-image"),e.setAttribute("src",t.image),e},createProductListItem=function(t){var e=document.createElement("li");return e.classList.add("product-list-item"),e.setAttribute("data-id",t.id),e.append(createProductImage(t),createProductName(t),createProductPrice(t),createButtonsContainer()),e},createProductsList=function(t){var e=document.createElement("ul");return e.classList.add("products-list"),t.forEach(function(t){e.append(createProductListItem(t))}),e},renderProducts=function(t){var e=document.querySelector("#main");return e.append(createProductsList(t)),e},purchasedProductAmountCounter=(renderProducts(products),function(){var t=document.createElement("p");return t.textContent=1,t.classList.add("basket__amount-counter"),t}),purchasedProductAmountPlusButton=function(){var t=document.createElement("button"),a=document.createElement("button");return t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#008000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus-circle"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line></svg>',t.classList.add("basket__purchased-plus--button"),t.addEventListener("click",function(t){var e=t.target.closest("li").id,n=t.target.closest("li").children[1],t=t.target.closest("div").children[1],r=Number(t.textContent);r++,a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#FF0000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-minus-circle"><circle cx="12" cy="12" r="10"></circle><line x1="8" y1="12" x2="16" y2="12"></line></svg>',t.textContent=r,n.textContent=(products[e].price*r).toFixed(2)+"$"}),t},purchasedProductAmountMinusButton=function(){var a=document.createElement("button");return a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#FF0000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>',a.classList.add("basket__purchased-minus--button"),a.addEventListener("click",function(t){var e=t.target.closest("li").children[1],n=t.target.closest("div").children[1],t=t.target.closest("li").id,r=Number(n.textContent);r<=2?(r--,a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#FF0000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>'):(a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#FF0000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-minus-circle"><circle cx="12" cy="12" r="10"></circle><line x1="8" y1="12" x2="16" y2="12"></line></svg>',n.textContent=--r,e.textContent=(products[t].price*(r+1)-products[t].price).toFixed(2)+"$")}),a},purchasedProductAmountContainer=function(){var t=document.createElement("div");return t.classList.add("basket__purchased-amount-container"),t.append(purchasedProductAmountMinusButton(),purchasedProductAmountCounter(),purchasedProductAmountPlusButton()),t},purchasedProductName=function(t){var e;return(e=document.createElement("p")).textContent=products[t].name,e.classList.add("basket__purchased-name"),e},purchasedProductPrice=function(t){var e;return(e=document.createElement("p")).textContent=products[t].price+"$",e.classList.add("basket__purchased-price"),e},purchasedProductImage=function(t){var e;return(e=document.createElement("img")).classList.add("product-image"),e.setAttribute("src",products[t].image),e},removeFromBasket=function(t){var e=t.target.closest("li").dataset.id,e=products[e].price,t=document.getElementById(t.target.closest("li").dataset.id);basketTotal-=e,basketValue.textContent=basketTotal.toFixed(2)+"$",basketList.removeChild(t),2===basketList.children.length&&(basketIcon.classList.remove("in-active"),basketText.classList.remove("in-active"))},addToBasket=function(t){""!==basketList&&(basketIcon.classList.add("in-active"),basketText.classList.add("in-active"));var t=t.target.closest("li").dataset.id,e=document.createElement("li");e.setAttribute("id",products[t].id),e.classList.add("basket__purchased-item"),e.append(purchasedProductImage(t),purchasedProductPrice(t),purchasedProductName(t),purchasedProductAmountContainer()),basketTotal+=products[t].price,basketValue.textContent=basketTotal.toFixed(2)+"$",basketList.append(e)},countProductInBasket=function(){document.querySelectorAll(".purchase-button").forEach(function(t){t.addEventListener("click",function(t){var e=t.target;("ADD TO CART"===e.textContent?(e.textContent="REMOVE",e.classList.add("remove-from-basket"),counter++,addToBasket):(e.textContent="ADD TO CART",e.classList.remove("remove-from-basket"),counter--,removeFromBasket))(t),basketCounter.textContent=counter})})},openBasket=function(){window.screen.width<=768?basket.classList.add("basket-active-mobile"):769<window.screen.width&&basket.classList.add("basket-active-desktop")},closeBasket=function(){basket.classList.remove("basket-active-mobile"),basket.classList.remove("basket-active-desktop")};basketBackButton.addEventListener("click",closeBasket),basketButton.addEventListener("click",openBasket),countProductInBasket();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJiYXNrZXRDb3VudGVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYmFza2V0QnV0dG9uIiwiYmFza2V0IiwiYmFza2V0QmFja0J1dHRvbiIsImJhc2tldExpc3QiLCJiYXNrZXRUZXh0IiwiYmFza2V0SWNvbiIsImJhc2tldFZhbHVlIiwiYmFza2V0VG90YWwiLCJjb3VudGVyIiwicHJvZHVjdHNJbkJhc2tldCIsInRleHRDb250ZW50IiwiZmF2QnV0dG9uIiwiY3JlYXRlRmF2b3JpdGVCdXR0b24iLCJjcmVhdGVCdXR0b25zQ29udGFpbmVyIiwiY3JlYXRlRWxlbWVudCIsImJ1dHRvbnNDb250YWluZXIiLCJhcHBlbmQiLCJjbGFzc0xpc3QiLCJjcmVhdGVQdXJjaGFzZUJ1dHRvbiIsInB1cmNoYXNlQnV0dG9uIiwiY3JlYXRlUHJvZHVjdFByaWNlIiwicHJvZHVjdHMiLCJwcm9kdWN0UHJpY2UiLCJwcmljZSIsImNyZWF0ZVByb2R1Y3ROYW1lIiwicHJvZHVjdE5hbWUiLCJuYW1lIiwiY3JlYXRlUHJvZHVjdEltYWdlIiwicHJvZHVjdEltYWdlIiwic2V0QXR0cmlidXRlIiwiYWRkIiwiaW1hZ2UiLCJjcmVhdGVQcm9kdWN0TGlzdEl0ZW0iLCJwcm9kdWN0TGlzdEl0ZW0iLCJpZCIsInByb2R1Y3RMaXN0IiwiZm9yRWFjaCIsInByb2R1Y3QiLCJyZW5kZXJQcm9kdWN0cyIsIm1haW4iLCJwdXJjaGFzZWRQcm9kdWN0QW1vdW50Q291bnRlciIsImFtb3VudENvdW50ZXIiLCJwdXJjaGFzZWRQcm9kdWN0QW1vdW50UGx1c0J1dHRvbiIsInBsdXNCdXR0b24iLCJtaW51c0J1dHRvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJwcm9kdWN0SW5CYXNrZXRQcmljZSIsIk51bWJlciIsInByb2R1Y3RJbkJhc2tldENvdW50ZXIiLCJlIiwidGFyZ2V0IiwiY2xvc2VzdCIsImNoaWxkcmVuIiwidG9GaXhlZCIsInB1cmNoYXNlZFByb2R1Y3RBbW91bnRNaW51c0J1dHRvbiIsImlubmVySFRNTCIsInB1cmNoYXNlZFByb2R1Y3RBbW91bnRDb250YWluZXIiLCJhbW91bnRDb250YWluZXIiLCJwdXJjaGFzZWRQcm9kdWN0TmFtZSIsInB1cmNoYXNlZFByb2R1Y3RQcmljZSIsInB1cmNoYXNlZFByb2R1Y3RJbWFnZSIsInB1cmNoYXNlZFByb2R1Y3RJZCIsInB1cmNoYXNlZFByb2R1Y3RQcmljZVZhbHVlIiwiZ2V0RWxlbWVudEJ5SWQiLCJkYXRhc2V0IiwibGVuZ3RoIiwicHJvZHVjdFRvRGVsZXRlIiwicHVyY2hhc2VkTGlzdEl0ZW0iLCJhZGRUb0Jhc2tldCIsImNvdW50UHJvZHVjdEluQmFza2V0IiwicHVyY2hhc2VCdXR0b25zIiwicXVlcnlTZWxlY3RvckFsbCIsImJ1dHRvbiIsInJlbW92ZSIsInJlbW92ZUZyb21CYXNrZXQiLCJvcGVuQmFza2V0Iiwic2NyZWVuIiwiY2xpY2tlZEJ0biIsImNsb3NlQmFza2V0Iiwid2luZG93Iiwid2lkdGgiXSwibWFwcGluZ3MiOiJhQUFBLElBQU1BLGNBQWdCQyxTQUFTQyxjQUFjLHlCQUF5QixFQUNoRUMsYUFBZUYsU0FBU0MsY0FBYyx3QkFBd0IsRUFEOURGLE9BQUFBLFNBQWdCQyxjQUFTQyxTQUFjLEVBQ3ZDQyxpQkFBZUYsU0FBU0MsY0FBYyxpQkFBQSxFQUN0Q0UsV0FBU0gsU0FBU0MsY0FBYyxlQUFVLEVBQzFDRyxXQUFBQSxTQUFtQkosY0FBU0MsZUFBYyxFQUM1Q0ksV0FBYUwsU0FBU0MsY0FBYyxlQUFnQixFQUNsREssWUFBYU4sU0FBU0MsY0FBYyx3QkFBZ0IsRUFDcERNLFlBQWFQLEVBQ2ZRLGlCQUFjUixHQUNkUyxRQUFBQSxFQUVBQyxzQkFESlgsY0FBSVksWUFBcUJELFFBQ1YsV0FDZlgsSUFBQUEsRUFBY2EsU0FBY0YsY0FBTyxRQUFBLEVBTWxDLE9BTERHLEVBQU1DLFVBQUFBLElBQW9CLGlCQUFwQkEsRUFHTEQsRUFGTUEsVUFDTkEsb1lBQ0FBLENBR0Qs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b2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19iYXNrZXQtY291bnRlcicpXHJcbmNvbnN0IGJhc2tldEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2Jhc2tldC1idXR0b24nKVxyXG5jb25zdCBiYXNrZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmFza2V0JylcclxuY29uc3QgYmFza2V0QmFja0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iYXNrZXRfX2J1dHRvbicpXHJcbmxldCBiYXNrZXRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJhc2tldF9fbGlzdCcpXHJcbmNvbnN0IGJhc2tldFRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmFza2V0X190ZXh0JylcclxuY29uc3QgYmFza2V0SWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iYXNrZXRfX2ljb24nKVxyXG5sZXQgYmFza2V0VmFsdWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmFza2V0X190b3RhbC0tbnVtYmVyJylcclxubGV0IGJhc2tldFRvdGFsID0gMFxyXG5sZXQgcHJvZHVjdHNJbkJhc2tldCA9IFtdXHJcbmxldCBjb3VudGVyID0gMFxyXG5iYXNrZXRDb3VudGVyLnRleHRDb250ZW50ID0gY291bnRlclxyXG5jb25zdCBjcmVhdGVGYXZvcml0ZUJ1dHRvbiA9ICgpID0+IHtcclxuXHRjb25zdCBmYXZCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxyXG5cdGZhdkJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdmYXZvcml0ZS1idXR0b24nKVxyXG5cdGZhdkJ1dHRvbi5pbm5lckhUTUwgPVxyXG5cdFx0JzxzdmcgY2xhc3M9XCJmYXZvcml0ZS1pY29uXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiMwMDBcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgY2xhc3M9XCJmZWF0aGVyIGZlYXRoZXItaGVhcnRcIj48cGF0aCBkPVwiTTIwLjg0IDQuNjFhNS41IDUuNSAwIDAgMC03Ljc4IDBMMTIgNS42N2wtMS4wNi0xLjA2YTUuNSA1LjUgMCAwIDAtNy43OCA3Ljc4bDEuMDYgMS4wNkwxMiAyMS4yM2w3Ljc4LTcuNzggMS4wNi0xLjA2YTUuNSA1LjUgMCAwIDAgMC03Ljc4elwiPjwvcGF0aD48L3N2Zz4nXHJcblx0cmV0dXJuIGZhdkJ1dHRvblxyXG59XHJcbmNvbnN0IGNyZWF0ZUJ1dHRvbnNDb250YWluZXIgPSAoKSA9PiB7XHJcblx0Y29uc3QgYnV0dG9uc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcblx0YnV0dG9uc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdidXR0b25zLWNvbnRhaW5lcicpXHJcblx0YnV0dG9uc0NvbnRhaW5lci5hcHBlbmQoY3JlYXRlUHVyY2hhc2VCdXR0b24oKSwgY3JlYXRlRmF2b3JpdGVCdXR0b24oKSlcclxuXHRyZXR1cm4gYnV0dG9uc0NvbnRhaW5lclxyXG59XHJcbmNvbnN0IGNyZWF0ZVB1cmNoYXNlQnV0dG9uID0gKCkgPT4ge1xyXG5cdGNvbnN0IHB1cmNoYXNlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcclxuXHRwdXJjaGFzZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdwdXJjaGFzZS1idXR0b24nKVxyXG5cdHB1cmNoYXNlQnV0dG9uLnRleHRDb250ZW50ID0gJ0FERCBUTyBDQVJUJ1xyXG5cdHJldHVybiBwdXJjaGFzZUJ1dHRvblxyXG59XHJcbmNvbnN0IGNyZWF0ZVByb2R1Y3RQcmljZSA9IHByb2R1Y3RzID0+IHtcclxuXHRjb25zdCBwcm9kdWN0UHJpY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJylcclxuXHRwcm9kdWN0UHJpY2UuY2xhc3NMaXN0LmFkZCgncHJvZHVjdC1wcmljZScpXHJcblx0cHJvZHVjdFByaWNlLnRleHRDb250ZW50ID0gcHJvZHVjdHMucHJpY2UgKyAnJCdcclxuXHRyZXR1cm4gcHJvZHVjdFByaWNlXHJcbn1cclxuY29uc3QgY3JlYXRlUHJvZHVjdE5hbWUgPSBwcm9kdWN0cyA9PiB7XHJcblx0Y29uc3QgcHJvZHVjdE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJylcclxuXHRwcm9kdWN0TmFtZS5jbGFzc0xpc3QuYWRkKCdwcm9kdWN0LW5hbWUnKVxyXG5cdHByb2R1Y3ROYW1lLnRleHRDb250ZW50ID0gcHJvZHVjdHMubmFtZVxyXG5cdHJldHVybiBwcm9kdWN0TmFtZVxyXG59XHJcbmNvbnN0IGNyZWF0ZVByb2R1Y3RJbWFnZSA9IHByb2R1Y3RzID0+IHtcclxuXHRjb25zdCBwcm9kdWN0SW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKVxyXG5cdHByb2R1Y3RJbWFnZS5jbGFzc0xpc3QuYWRkKCdwcm9kdWN0LWltYWdlJylcclxuXHRwcm9kdWN0SW1hZ2Uuc2V0QXR0cmlidXRlKCdzcmMnLCBwcm9kdWN0cy5pbWFnZSlcclxuXHRyZXR1cm4gcHJvZHVjdEltYWdlXHJcbn1cclxuY29uc3QgY3JlYXRlUHJvZHVjdExpc3RJdGVtID0gcHJvZHVjdHMgPT4ge1xyXG5cdGNvbnN0IHByb2R1Y3RMaXN0SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJylcclxuXHRwcm9kdWN0TGlzdEl0ZW0uY2xhc3NMaXN0LmFkZCgncHJvZHVjdC1saXN0LWl0ZW0nKVxyXG5cdHByb2R1Y3RMaXN0SXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnLCBwcm9kdWN0cy5pZClcclxuXHRwcm9kdWN0TGlzdEl0ZW0uYXBwZW5kKFxyXG5cdFx0Y3JlYXRlUHJvZHVjdEltYWdlKHByb2R1Y3RzKSxcclxuXHRcdGNyZWF0ZVByb2R1Y3ROYW1lKHByb2R1Y3RzKSxcclxuXHRcdGNyZWF0ZVByb2R1Y3RQcmljZShwcm9kdWN0cyksXHJcblx0XHRjcmVhdGVCdXR0b25zQ29udGFpbmVyKClcclxuXHQpXHJcblx0cmV0dXJuIHByb2R1Y3RMaXN0SXRlbVxyXG59XHJcbmNvbnN0IGNyZWF0ZVByb2R1Y3RzTGlzdCA9IHByb2R1Y3RzID0+IHtcclxuXHRjb25zdCBwcm9kdWN0TGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJylcclxuXHRwcm9kdWN0TGlzdC5jbGFzc0xpc3QuYWRkKCdwcm9kdWN0cy1saXN0JylcclxuXHRwcm9kdWN0cy5mb3JFYWNoKHByb2R1Y3QgPT4ge1xyXG5cdFx0cHJvZHVjdExpc3QuYXBwZW5kKGNyZWF0ZVByb2R1Y3RMaXN0SXRlbShwcm9kdWN0KSlcclxuXHR9KVxyXG5cdHJldHVybiBwcm9kdWN0TGlzdFxyXG59XHJcbmNvbnN0IHJlbmRlclByb2R1Y3RzID0gcHJvZHVjdHMgPT4ge1xyXG5cdGNvbnN0IG1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWFpbicpXHJcblx0bWFpbi5hcHBlbmQoY3JlYXRlUHJvZHVjdHNMaXN0KHByb2R1Y3RzKSlcclxuXHRyZXR1cm4gbWFpblxyXG59XHJcbnJlbmRlclByb2R1Y3RzKHByb2R1Y3RzKVxyXG5jb25zdCBwdXJjaGFzZWRQcm9kdWN0QW1vdW50Q291bnRlciA9ICgpID0+IHtcclxuXHRsZXQgYW1vdW50Q291bnRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKVxyXG5cdGFtb3VudENvdW50ZXIudGV4dENvbnRlbnQgPSAxXHJcblx0YW1vdW50Q291bnRlci5jbGFzc0xpc3QuYWRkKCdiYXNrZXRfX2Ftb3VudC1jb3VudGVyJylcclxuXHRyZXR1cm4gYW1vdW50Q291bnRlclxyXG59XHJcbmNvbnN0IHB1cmNoYXNlZFByb2R1Y3RBbW91bnRQbHVzQnV0dG9uID0gKCkgPT4ge1xyXG5cdGNvbnN0IHBsdXNCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxyXG5cdGNvbnN0IG1pbnVzQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcclxuXHRwbHVzQnV0dG9uLmlubmVySFRNTCA9XHJcblx0XHQnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiIzAwODAwMFwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBjbGFzcz1cImZlYXRoZXIgZmVhdGhlci1wbHVzLWNpcmNsZVwiPjxjaXJjbGUgY3g9XCIxMlwiIGN5PVwiMTJcIiByPVwiMTBcIj48L2NpcmNsZT48bGluZSB4MT1cIjEyXCIgeTE9XCI4XCIgeDI9XCIxMlwiIHkyPVwiMTZcIj48L2xpbmU+PGxpbmUgeDE9XCI4XCIgeTE9XCIxMlwiIHgyPVwiMTZcIiB5Mj1cIjEyXCI+PC9saW5lPjwvc3ZnPidcclxuXHRwbHVzQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2Jhc2tldF9fcHVyY2hhc2VkLXBsdXMtLWJ1dHRvbicpXHJcblx0cGx1c0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG5cdFx0Y29uc3QgaWQgPSBlLnRhcmdldC5jbG9zZXN0KCdsaScpLmlkXHJcblx0XHRjb25zdCBwcm9kdWN0SW5CYXNrZXRQcmljZSA9IGUudGFyZ2V0LmNsb3Nlc3QoJ2xpJykuY2hpbGRyZW5bMV1cclxuXHRcdGNvbnN0IHByb2R1Y3RJbkJhc2tldENvdW50ZXIgPSBlLnRhcmdldC5jbG9zZXN0KCdkaXYnKS5jaGlsZHJlblsxXVxyXG5cdFx0bGV0IGNvdW50ZXIgPSBOdW1iZXIocHJvZHVjdEluQmFza2V0Q291bnRlci50ZXh0Q29udGVudClcclxuXHRcdGlmKGNvdW50ZXIgPj0gMil7XHJcblx0XHRcdGNvdW50ZXIrK1xyXG5cdFx0XHRtaW51c0J1dHRvbi5pbm5lckhUTUwgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiI0ZGMDAwMFwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBjbGFzcz1cImZlYXRoZXIgZmVhdGhlci1taW51cy1jaXJjbGVcIj48Y2lyY2xlIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjEwXCI+PC9jaXJjbGU+PGxpbmUgeDE9XCI4XCIgeTE9XCIxMlwiIHgyPVwiMTZcIiB5Mj1cIjEyXCI+PC9saW5lPjwvc3ZnPidcclxuXHRcdH1lbHNlIHtcclxuXHRcdFx0Y291bnRlcisrXHJcblx0XHRcdG1pbnVzQnV0dG9uLmlubmVySFRNTCA9XHJcblx0XHRcdFx0JzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiNGRjAwMDBcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgY2xhc3M9XCJmZWF0aGVyIGZlYXRoZXItbWludXMtY2lyY2xlXCI+PGNpcmNsZSBjeD1cIjEyXCIgY3k9XCIxMlwiIHI9XCIxMFwiPjwvY2lyY2xlPjxsaW5lIHgxPVwiOFwiIHkxPVwiMTJcIiB4Mj1cIjE2XCIgeTI9XCIxMlwiPjwvbGluZT48L3N2Zz4nXHJcblx0XHR9XHJcblx0XHRwcm9kdWN0SW5CYXNrZXRDb3VudGVyLnRleHRDb250ZW50ID0gY291bnRlclxyXG5cdFx0cHJvZHVjdEluQmFza2V0UHJpY2UudGV4dENvbnRlbnQgPSAocHJvZHVjdHNbaWRdLnByaWNlICogY291bnRlcikudG9GaXhlZCgyKSArICckJ1xyXG5cdH0pXHJcblx0cmV0dXJuIHBsdXNCdXR0b25cclxufVxyXG5jb25zdCBwdXJjaGFzZWRQcm9kdWN0QW1vdW50TWludXNCdXR0b24gPSAoKSA9PiB7XHJcblx0Y29uc3QgbWludXNCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxyXG5cdG1pbnVzQnV0dG9uLmlubmVySFRNTCA9XHJcblx0XHQnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiI0ZGMDAwMFwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBjbGFzcz1cImZlYXRoZXIgZmVhdGhlci10cmFzaC0yXCI+PHBvbHlsaW5lIHBvaW50cz1cIjMgNiA1IDYgMjEgNlwiPjwvcG9seWxpbmU+PHBhdGggZD1cIk0xOSA2djE0YTIgMiAwIDAgMS0yIDJIN2EyIDIgMCAwIDEtMi0yVjZtMyAwVjRhMiAyIDAgMCAxIDItMmg0YTIgMiAwIDAgMSAyIDJ2MlwiPjwvcGF0aD48bGluZSB4MT1cIjEwXCIgeTE9XCIxMVwiIHgyPVwiMTBcIiB5Mj1cIjE3XCI+PC9saW5lPjxsaW5lIHgxPVwiMTRcIiB5MT1cIjExXCIgeDI9XCIxNFwiIHkyPVwiMTdcIj48L2xpbmU+PC9zdmc+J1xyXG5cdG1pbnVzQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2Jhc2tldF9fcHVyY2hhc2VkLW1pbnVzLS1idXR0b24nKVxyXG5cdG1pbnVzQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcblx0XHRjb25zdCBwcm9kdWN0SW5CYXNrZXRQcmljZSA9IGUudGFyZ2V0LmNsb3Nlc3QoJ2xpJykuY2hpbGRyZW5bMV1cclxuXHRcdGNvbnN0IHByb2R1Y3RJbkJhc2tldENvdW50ZXIgPSBlLnRhcmdldC5jbG9zZXN0KCdkaXYnKS5jaGlsZHJlblsxXVxyXG5cdFx0Y29uc3QgaWQgPSBlLnRhcmdldC5jbG9zZXN0KCdsaScpLmlkXHJcblx0XHRsZXQgY291bnRlciA9IE51bWJlcihwcm9kdWN0SW5CYXNrZXRDb3VudGVyLnRleHRDb250ZW50KVxyXG5cdFx0aWYgKGNvdW50ZXIgPD0gMikge1xyXG5cdFx0XHRjb3VudGVyLS1cclxuXHRcdFx0bWludXNCdXR0b24uaW5uZXJIVE1MID1cclxuXHRcdFx0XHQnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiI0ZGMDAwMFwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBjbGFzcz1cImZlYXRoZXIgZmVhdGhlci10cmFzaC0yXCI+PHBvbHlsaW5lIHBvaW50cz1cIjMgNiA1IDYgMjEgNlwiPjwvcG9seWxpbmU+PHBhdGggZD1cIk0xOSA2djE0YTIgMiAwIDAgMS0yIDJIN2EyIDIgMCAwIDEtMi0yVjZtMyAwVjRhMiAyIDAgMCAxIDItMmg0YTIgMiAwIDAgMSAyIDJ2MlwiPjwvcGF0aD48bGluZSB4MT1cIjEwXCIgeTE9XCIxMVwiIHgyPVwiMTBcIiB5Mj1cIjE3XCI+PC9saW5lPjxsaW5lIHgxPVwiMTRcIiB5MT1cIjExXCIgeDI9XCIxNFwiIHkyPVwiMTdcIj48L2xpbmU+PC9zdmc+J1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0bWludXNCdXR0b24uaW5uZXJIVE1MID1cclxuXHRcdFx0XHQnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiI0ZGMDAwMFwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBjbGFzcz1cImZlYXRoZXIgZmVhdGhlci1taW51cy1jaXJjbGVcIj48Y2lyY2xlIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjEwXCI+PC9jaXJjbGU+PGxpbmUgeDE9XCI4XCIgeTE9XCIxMlwiIHgyPVwiMTZcIiB5Mj1cIjEyXCI+PC9saW5lPjwvc3ZnPidcclxuXHRcdFx0Y291bnRlci0tXHJcblx0XHRcdHByb2R1Y3RJbkJhc2tldENvdW50ZXIudGV4dENvbnRlbnQgPSBjb3VudGVyXHJcblx0XHRcdHByb2R1Y3RJbkJhc2tldFByaWNlLnRleHRDb250ZW50ID0gKHByb2R1Y3RzW2lkXS5wcmljZSAqIChjb3VudGVyICsgMSkgLSBwcm9kdWN0c1tpZF0ucHJpY2UpLnRvRml4ZWQoMikgKyAnJCdcclxuXHRcdH1cclxuXHR9KVxyXG5cdHJldHVybiBtaW51c0J1dHRvblxyXG59XHJcbmNvbnN0IHB1cmNoYXNlZFByb2R1Y3RBbW91bnRDb250YWluZXIgPSAoKSA9PiB7XHJcblx0Y29uc3QgYW1vdW50Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuXHRhbW91bnRDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnYmFza2V0X19wdXJjaGFzZWQtYW1vdW50LWNvbnRhaW5lcicpXHJcblx0YW1vdW50Q29udGFpbmVyLmFwcGVuZChcclxuXHRcdHB1cmNoYXNlZFByb2R1Y3RBbW91bnRNaW51c0J1dHRvbigpLFxyXG5cdFx0cHVyY2hhc2VkUHJvZHVjdEFtb3VudENvdW50ZXIoKSxcclxuXHRcdHB1cmNoYXNlZFByb2R1Y3RBbW91bnRQbHVzQnV0dG9uKClcclxuXHQpXHJcblx0cmV0dXJuIGFtb3VudENvbnRhaW5lclxyXG59XHJcbmNvbnN0IHB1cmNoYXNlZFByb2R1Y3ROYW1lID0gcHVyY2hhc2VkUHJvZHVjdElkID0+IHtcclxuXHRjb25zdCBwdXJjaGFzZWRQcm9kdWN0TmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKVxyXG5cdHB1cmNoYXNlZFByb2R1Y3ROYW1lLnRleHRDb250ZW50ID0gcHJvZHVjdHNbcHVyY2hhc2VkUHJvZHVjdElkXS5uYW1lXHJcblx0cHVyY2hhc2VkUHJvZHVjdE5hbWUuY2xhc3NMaXN0LmFkZCgnYmFza2V0X19wdXJjaGFzZWQtbmFtZScpXHJcblx0cmV0dXJuIHB1cmNoYXNlZFByb2R1Y3ROYW1lXHJcbn1cclxuY29uc3QgcHVyY2hhc2VkUHJvZHVjdFByaWNlID0gcHVyY2hhc2VkUHJvZHVjdElkID0+IHtcclxuXHRjb25zdCBwdXJjaGFzZWRQcm9kdWN0UHJpY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJylcclxuXHRwdXJjaGFzZWRQcm9kdWN0UHJpY2UudGV4dENvbnRlbnQgPSBwcm9kdWN0c1twdXJjaGFzZWRQcm9kdWN0SWRdLnByaWNlICsgJyQnXHJcblx0cHVyY2hhc2VkUHJvZHVjdFByaWNlLmNsYXNzTGlzdC5hZGQoJ2Jhc2tldF9fcHVyY2hhc2VkLXByaWNlJylcclxuXHRyZXR1cm4gcHVyY2hhc2VkUHJvZHVjdFByaWNlXHJcbn1cclxuY29uc3QgcHVyY2hhc2VkUHJvZHVjdEltYWdlID0gcHVyY2hhc2VkUHJvZHVjdElkID0+IHtcclxuXHRjb25zdCBwdXJjaGFzZWRQcm9kdWN0SW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKVxyXG5cdHB1cmNoYXNlZFByb2R1Y3RJbWFnZS5jbGFzc0xpc3QuYWRkKCdwcm9kdWN0LWltYWdlJylcclxuXHRwdXJjaGFzZWRQcm9kdWN0SW1hZ2Uuc2V0QXR0cmlidXRlKCdzcmMnLCBwcm9kdWN0c1twdXJjaGFzZWRQcm9kdWN0SWRdLmltYWdlKVxyXG5cdHJldHVybiBwdXJjaGFzZWRQcm9kdWN0SW1hZ2VcclxufVxyXG5jb25zdCByZW1vdmVGcm9tQmFza2V0ID0gZSA9PiB7XHJcblx0Y29uc3QgcHVyY2hhc2VkUHJvZHVjdElkID0gZS50YXJnZXQuY2xvc2VzdCgnbGknKS5kYXRhc2V0LmlkXHJcblx0Y29uc3QgcHVyY2hhc2VkUHJvZHVjdFByaWNlVmFsdWUgPSBwcm9kdWN0c1twdXJjaGFzZWRQcm9kdWN0SWRdLnByaWNlXHJcblx0Y29uc3QgcHJvZHVjdFRvRGVsZXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZS50YXJnZXQuY2xvc2VzdCgnbGknKS5kYXRhc2V0LmlkKVxyXG5cdGJhc2tldFRvdGFsIC09IHB1cmNoYXNlZFByb2R1Y3RQcmljZVZhbHVlXHJcblx0YmFza2V0VmFsdWUudGV4dENvbnRlbnQgPSBiYXNrZXRUb3RhbC50b0ZpeGVkKDIpICsgJyQnXHJcblx0YmFza2V0TGlzdC5yZW1vdmVDaGlsZChwcm9kdWN0VG9EZWxldGUpXHJcblx0aWYgKGJhc2tldExpc3QuY2hpbGRyZW4ubGVuZ3RoID09PSAyKSB7XHJcblx0XHRiYXNrZXRJY29uLmNsYXNzTGlzdC5yZW1vdmUoJ2luLWFjdGl2ZScpXHJcblx0XHRiYXNrZXRUZXh0LmNsYXNzTGlzdC5yZW1vdmUoJ2luLWFjdGl2ZScpXHJcblx0fVxyXG59XHJcbmNvbnN0IGFkZFRvQmFza2V0ID0gZSA9PiB7XHJcblx0aWYgKGJhc2tldExpc3QgIT09ICcnKSB7XHJcblx0XHRiYXNrZXRJY29uLmNsYXNzTGlzdC5hZGQoJ2luLWFjdGl2ZScpXHJcblx0XHRiYXNrZXRUZXh0LmNsYXNzTGlzdC5hZGQoJ2luLWFjdGl2ZScpXHJcblx0fVxyXG5cdGNvbnN0IHB1cmNoYXNlZFByb2R1Y3RJZCA9IGUudGFyZ2V0LmNsb3Nlc3QoJ2xpJykuZGF0YXNldC5pZFxyXG5cdGNvbnN0IHB1cmNoYXNlZExpc3RJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKVxyXG5cdHB1cmNoYXNlZExpc3RJdGVtLnNldEF0dHJpYnV0ZSgnaWQnLCBwcm9kdWN0c1twdXJjaGFzZWRQcm9kdWN0SWRdLmlkKVxyXG5cdHB1cmNoYXNlZExpc3RJdGVtLmNsYXNzTGlzdC5hZGQoJ2Jhc2tldF9fcHVyY2hhc2VkLWl0ZW0nKVxyXG5cdHB1cmNoYXNlZExpc3RJdGVtLmFwcGVuZChcclxuXHRcdHB1cmNoYXNlZFByb2R1Y3RJbWFnZShwdXJjaGFzZWRQcm9kdWN0SWQpLFxyXG5cdFx0cHVyY2hhc2VkUHJvZHVjdFByaWNlKHB1cmNoYXNlZFByb2R1Y3RJZCksXHJcblx0XHRwdXJjaGFzZWRQcm9kdWN0TmFtZShwdXJjaGFzZWRQcm9kdWN0SWQpLFxyXG5cdFx0cHVyY2hhc2VkUHJvZHVjdEFtb3VudENvbnRhaW5lcigpXHJcblx0KVxyXG5cdGJhc2tldFRvdGFsICs9IHByb2R1Y3RzW3B1cmNoYXNlZFByb2R1Y3RJZF0ucHJpY2VcclxuXHRiYXNrZXRWYWx1ZS50ZXh0Q29udGVudCA9IGJhc2tldFRvdGFsLnRvRml4ZWQoMikgKyAnJCdcclxuXHRiYXNrZXRMaXN0LmFwcGVuZChwdXJjaGFzZWRMaXN0SXRlbSlcclxufVxyXG5cclxuY29uc3QgY291bnRQcm9kdWN0SW5CYXNrZXQgPSAoKSA9PiB7XHJcblx0Y29uc3QgcHVyY2hhc2VCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnB1cmNoYXNlLWJ1dHRvbicpXHJcblx0cHVyY2hhc2VCdXR0b25zLmZvckVhY2goYnV0dG9uID0+IHtcclxuXHRcdGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG5cdFx0XHRjb25zdCBjbGlja2VkQnRuID0gZS50YXJnZXRcclxuXHRcdFx0aWYgKGNsaWNrZWRCdG4udGV4dENvbnRlbnQgPT09ICdBREQgVE8gQ0FSVCcpIHtcclxuXHRcdFx0XHRjbGlja2VkQnRuLnRleHRDb250ZW50ID0gJ1JFTU9WRSdcclxuXHRcdFx0XHRjbGlja2VkQnRuLmNsYXNzTGlzdC5hZGQoJ3JlbW92ZS1mcm9tLWJhc2tldCcpXHJcblx0XHRcdFx0Y291bnRlcisrXHJcblx0XHRcdFx0YWRkVG9CYXNrZXQoZSlcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRjbGlja2VkQnRuLnRleHRDb250ZW50ID0gJ0FERCBUTyBDQVJUJ1xyXG5cdFx0XHRcdGNsaWNrZWRCdG4uY2xhc3NMaXN0LnJlbW92ZSgncmVtb3ZlLWZyb20tYmFza2V0JylcclxuXHRcdFx0XHRjb3VudGVyLS1cclxuXHRcdFx0XHRyZW1vdmVGcm9tQmFza2V0KGUpXHJcblx0XHRcdH1cclxuXHRcdFx0YmFza2V0Q291bnRlci50ZXh0Q29udGVudCA9IGNvdW50ZXJcclxuXHRcdH0pXHJcblx0fSlcclxufVxyXG5jb25zdCBvcGVuQmFza2V0ID0gKCkgPT4ge1xyXG5cdGlmICh3aW5kb3cuc2NyZWVuLndpZHRoIDw9IDc2OCkge1xyXG5cdFx0YmFza2V0LmNsYXNzTGlzdC5hZGQoJ2Jhc2tldC1hY3RpdmUtbW9iaWxlJylcclxuXHR9IGVsc2UgaWYgKHdpbmRvdy5zY3JlZW4ud2lkdGggPiA3NjkpIHtcclxuXHRcdGJhc2tldC5jbGFzc0xpc3QuYWRkKCdiYXNrZXQtYWN0aXZlLWRlc2t0b3AnKVxyXG5cdH1cclxufVxyXG5jb25zdCBjbG9zZUJhc2tldCA9ICgpID0+IHtcclxuXHRiYXNrZXQuY2xhc3NMaXN0LnJlbW92ZSgnYmFza2V0LWFjdGl2ZS1tb2JpbGUnKVxyXG5cdGJhc2tldC5jbGFzc0xpc3QucmVtb3ZlKCdiYXNrZXQtYWN0aXZlLWRlc2t0b3AnKVxyXG59XHJcbmJhc2tldEJhY2tCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUJhc2tldClcclxuYmFza2V0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkJhc2tldClcclxuY291bnRQcm9kdWN0SW5CYXNrZXQoKVxyXG4iXX0=
