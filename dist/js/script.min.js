"use strict";var basketCounter=document.querySelector(".header__basket-counter"),basketButton=document.querySelector(".header__basket-button"),basket=document.querySelector(".basket"),basketBackButton=document.querySelector(".basket__button"),basketList=document.querySelector(".basket__list"),basketText=document.querySelector(".basket__text"),basketIcon=document.querySelector(".basket__icon"),basketValue=document.querySelector(".basket__total--number"),basketTotalNumber=0,counter=(basketValue.textContent=basketTotalNumber+"$",0),createInput=(basketCounter.textContent=counter,function(){var a=document.createElement("input");return a.classList.add("product-input"),a.value=1,a.addEventListener("keydown",function(t){var e=a.closest("div").querySelector("button");"0"===t.key||"Backspace"===t.key?(e.setAttribute("disabled","true"),e.classList.add("disabled-button")):(e.removeAttribute("disabled"),e.classList.remove("disabled-button"))}),a}),createButtonsContainer=function(){var t=document.createElement("div");return t.classList.add("buttons-container"),t.append(createPurchaseButton(),createInput()),t},createPurchaseButton=function(){var t=document.createElement("button");return t.classList.add("purchase-button"),t.textContent="ADD TO CART",t},createProductPrice=function(t){var e=document.createElement("p");return e.classList.add("product-price"),e.textContent=t.price+"$",e},createProductName=function(t){var e=document.createElement("p");return e.classList.add("product-name"),e.textContent=t.name,e},createProductImage=function(t){var e=document.createElement("img");return e.classList.add("product-image"),e.setAttribute("src",t.image),e},createProductListItem=function(t){var e=document.createElement("li");return e.classList.add("product-list-item"),e.setAttribute("id",t.id),e.append(createProductImage(t),createProductName(t),createProductPrice(t),createButtonsContainer()),e},createProductsList=function(t){var e=document.createElement("ul");return e.classList.add("products-list"),t.forEach(function(t){e.append(createProductListItem(t))}),e},renderProducts=function(t){var e=document.querySelector("#main");return e.append(createProductsList(t)),e},purchasedProductName=(renderProducts(products),function(t){var e;return(e=document.createElement("p")).textContent=products[t].name,e.classList.add("basket__purchased-name"),e}),purchasedProductPrice=function(t,e){var a;return(a=document.createElement("p")).textContent=(products[t].price*e).toFixed(2)+"$",a.classList.add("basket__purchased-price"),a},purchasedProductImage=function(t){var e;return(e=document.createElement("img")).classList.add("product-image"),e.setAttribute("src",products[t].image),e},removeFromBasket=function(t){t=t.target.closest("li").id,t=document.getElementById(t);basketTotalNumber-=parseFloat(t.querySelector(".basket__purchased-price").textContent),basketValue.textContent=basketTotalNumber.toFixed(2)+"$",basketList.removeChild(t),2===basketList.children.length&&(basketIcon.classList.remove("in-active"),basketText.classList.remove("in-active"))},createRemoveButton=function(t){var e=document.createElement("button");return e.classList.add("basket__remove-from-cart"),e.textContent="REMOVE",e.addEventListener("click",function(t){removeFromBasket(t),counter--,basketCounter.textContent=counter;t=document.querySelector(".products-list").children[t.target.closest("li").id].querySelector("button");t.textContent="ADD TO CART",t.classList.remove("remove-from-basket")}),e},addToBasket=function(t){""!==basketList&&(basketIcon.classList.add("in-active"),basketText.classList.add("in-active"));var e=t.target.closest("li").querySelector("input").value,t=t.target.closest("li").id,a=document.createElement("li");a.setAttribute("id",products[t].id),a.classList.add("basket__purchased-item"),a.append(purchasedProductImage(t),purchasedProductPrice(t,e),purchasedProductName(t),createRemoveButton()),basketTotalNumber+=products[t].price*e,basketValue.textContent=basketTotalNumber.toFixed(2)+"$",basketList.append(a)},countProductInBasket=function(){document.querySelectorAll(".purchase-button").forEach(function(t){t.addEventListener("click",function(t){var e=t.target;("ADD TO CART"===e.textContent?(e.textContent="REMOVE",e.classList.add("remove-from-basket"),counter++,addToBasket):(e.textContent="ADD TO CART",e.classList.remove("remove-from-basket"),counter--,removeFromBasket))(t),basketCounter.textContent=counter})})},openBasket=function(){window.screen.width<=768?basket.classList.add("basket-active-mobile"):769<window.screen.width&&basket.classList.add("basket-active-desktop")},closeBasket=function(){basket.classList.remove("basket-active-mobile"),basket.classList.remove("basket-active-desktop")};basketBackButton.addEventListener("click",closeBasket),basketButton.addEventListener("click",openBasket),countProductInBasket();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJiYXNrZXRDb3VudGVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYmFza2V0QnV0dG9uIiwiYmFza2V0IiwiYmFza2V0QmFja0J1dHRvbiIsImJhc2tldExpc3QiLCJiYXNrZXRUZXh0IiwiYmFza2V0SWNvbiIsImJhc2tldFRvdGFsTnVtYmVyIiwiYmFza2V0VmFsdWUiLCJjb3VudGVyIiwidGV4dENvbnRlbnQiLCJpbnB1dCIsImNyZWF0ZUlucHV0IiwiYWRkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJ2YWx1ZSIsImNsb3Nlc3QiLCJrZXkiLCJhZGRUb0NhcnRCdXR0b24iLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJjcmVhdGVCdXR0b25zQ29udGFpbmVyIiwiYnV0dG9uc0NvbnRhaW5lciIsImNyZWF0ZUVsZW1lbnQiLCJjcmVhdGVQdXJjaGFzZUJ1dHRvbiIsInB1cmNoYXNlQnV0dG9uIiwiY3JlYXRlUHJvZHVjdFByaWNlIiwicHJvZHVjdHMiLCJwcm9kdWN0UHJpY2UiLCJjcmVhdGVQcm9kdWN0TmFtZSIsInByb2R1Y3ROYW1lIiwiY3JlYXRlUHJvZHVjdEltYWdlIiwicHJvZHVjdEltYWdlIiwiaW1hZ2UiLCJjcmVhdGVQcm9kdWN0TGlzdEl0ZW0iLCJwcm9kdWN0TGlzdEl0ZW0iLCJhcHBlbmQiLCJzZXRBdHRyaWJ1dGUiLCJwcm9kdWN0TGlzdCIsInByb2R1Y3QiLCJtYWluIiwicmVuZGVyUHJvZHVjdHMiLCJwdXJjaGFzZWRQcm9kdWN0TmFtZSIsInB1cmNoYXNlZFByb2R1Y3RJZCIsIm5hbWUiLCJwdXJjaGFzZWRQcm9kdWN0UHJpY2UiLCJwcm9kdWN0SW5wdXRWYWx1ZSIsInByaWNlIiwidG9GaXhlZCIsInB1cmNoYXNlZFByb2R1Y3RJbWFnZSIsInJlbW92ZUZyb21CYXNrZXQiLCJwYXJzZUZsb2F0IiwicHJvZHVjdFRvRGVsZXRlIiwiY2hpbGRyZW4iLCJsZW5ndGgiLCJjcmVhdGVSZW1vdmVCdXR0b24iLCJyZW1vdmVCdXR0b24iLCJwcm9kdWN0c0xpc3QiLCJidG4iLCJ0YXJnZXQiLCJpZCIsInB1cmNoYXNlZExpc3RJdGVtIiwiY291bnRQcm9kdWN0SW5CYXNrZXQiLCJxdWVyeVNlbGVjdG9yQWxsIiwicHVyY2hhc2VCdXR0b25zIiwiZm9yRWFjaCIsImNsaWNrZWRCdG4iLCJidXR0b24iLCJhZGRUb0Jhc2tldCIsIm9wZW5CYXNrZXQiLCJ3aW5kb3ciLCJjbG9zZUJhc2tldCJdLCJtYXBwaW5ncyI6ImFBQUEsSUFBTUEsY0FBZ0JDLFNBQVNDLGNBQWMseUJBQXlCLEVBQ2hFQyxhQUFlRixTQUFTQyxjQUFjLHdCQUF3QixFQUQ5REYsT0FBQUEsU0FBZ0JDLGNBQVNDLFNBQWMsRUFDdkNDLGlCQUFlRixTQUFTQyxjQUFjLGlCQUFBLEVBQ3RDRSxXQUFTSCxTQUFTQyxjQUFjLGVBQVUsRUFDMUNHLFdBQUFBLFNBQW1CSixjQUFTQyxlQUFjLEVBQzVDSSxXQUFhTCxTQUFTQyxjQUFjLGVBQWdCLEVBQ2xESyxZQUFhTixTQUFTQyxjQUFjLHdCQUFnQixFQUNwRE0sa0JBQWFQLEVBRWZRLFNBREpDLFlBQUlBLFlBQXNCRCxrQkFBZSxJQUNyQ0EsR0FFQUUsYUFESkQsY0FBWUUsWUFBY0gsUUFDWCxXQUNmVCxJQUFBQSxFQUFjWSxTQUFBQSxjQUFxQixPQUFBLEVBZWxDLE9BZERDLEVBQU1DLFVBQVdDLElBQUcsZUFBZEQsRUFHTEQsRUFGTUEsTUFBUVosRUFHZFksRUFGS0csaUJBQWUsVUFBQSxTQUFBQyxHQUNwQkosSUFBTUssRUFBU0wsRUFBQU0sUUFBQSxLQUFBLEVBQUFqQixjQUFBLFFBQUEsRUFDVGMsTUFBTkgsRUFBS08sS0FBa0IsY0FBakJKLEVBQWdCSSxLQUdwQkMsRUFGS0EsYUFBd0JGLFdBQVEsTUFBT2pCLEVBRzVDbUIsRUFGWUMsVUFBU0YsSUFBRyxpQkFBa0IsSUFJMUNDLEVBRkFBLGdCQUE2QixVQUFDLEVBRzlCQSxFQUZLQyxVQUFBQyxPQUFBLGlCQUFBLEVBSVAsQ0FB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dENvdW50ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19iYXNrZXQtY291bnRlcicpXHJcbmNvbnN0IGJhc2tldEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2Jhc2tldC1idXR0b24nKVxyXG5jb25zdCBiYXNrZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmFza2V0JylcclxuY29uc3QgYmFza2V0QmFja0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iYXNrZXRfX2J1dHRvbicpXHJcbmxldCBiYXNrZXRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJhc2tldF9fbGlzdCcpXHJcbmNvbnN0IGJhc2tldFRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmFza2V0X190ZXh0JylcclxuY29uc3QgYmFza2V0SWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iYXNrZXRfX2ljb24nKVxyXG5sZXQgYmFza2V0VmFsdWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmFza2V0X190b3RhbC0tbnVtYmVyJylcclxubGV0IGJhc2tldFRvdGFsTnVtYmVyID0gMFxyXG5iYXNrZXRWYWx1ZS50ZXh0Q29udGVudCA9IGJhc2tldFRvdGFsTnVtYmVyICsgJyQnXHJcbmxldCBjb3VudGVyID0gMFxyXG5iYXNrZXRDb3VudGVyLnRleHRDb250ZW50ID0gY291bnRlclxyXG5jb25zdCBjcmVhdGVJbnB1dCA9ICgpID0+IHtcclxuXHRjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JylcclxuXHRpbnB1dC5jbGFzc0xpc3QuYWRkKCdwcm9kdWN0LWlucHV0JylcclxuXHRpbnB1dC52YWx1ZSA9IDFcclxuXHRpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHtcclxuXHRcdGNvbnN0IGFkZFRvQ2FydEJ1dHRvbiA9IGlucHV0LmNsb3Nlc3QoJ2RpdicpLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbicpXHJcblx0XHRpZihlLmtleSA9PT0gJzAnIHx8IGUua2V5ID09PSAnQmFja3NwYWNlJykge1xyXG5cdFx0XHRhZGRUb0NhcnRCdXR0b24uc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICd0cnVlJyk7XHJcblx0XHRcdGFkZFRvQ2FydEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZC1idXR0b24nKVxyXG5cdFx0fWVsc2Uge1xyXG5cdFx0XHRhZGRUb0NhcnRCdXR0b24ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpXHJcblx0XHRcdGFkZFRvQ2FydEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdkaXNhYmxlZC1idXR0b24nKVxyXG5cdFx0fVxyXG5cdH0pXHJcblx0cmV0dXJuIGlucHV0XHJcbn1cclxuY29uc3QgY3JlYXRlQnV0dG9uc0NvbnRhaW5lciA9ICgpID0+IHtcclxuXHRjb25zdCBidXR0b25zQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuXHRidXR0b25zQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2J1dHRvbnMtY29udGFpbmVyJylcclxuXHRidXR0b25zQ29udGFpbmVyLmFwcGVuZChjcmVhdGVQdXJjaGFzZUJ1dHRvbigpLCBjcmVhdGVJbnB1dCgpKVxyXG5cdHJldHVybiBidXR0b25zQ29udGFpbmVyXHJcbn1cclxuY29uc3QgY3JlYXRlUHVyY2hhc2VCdXR0b24gPSAoKSA9PiB7XHJcblx0Y29uc3QgcHVyY2hhc2VCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxyXG5cdHB1cmNoYXNlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3B1cmNoYXNlLWJ1dHRvbicpXHJcblx0cHVyY2hhc2VCdXR0b24udGV4dENvbnRlbnQgPSAnQUREIFRPIENBUlQnXHJcblx0cmV0dXJuIHB1cmNoYXNlQnV0dG9uXHJcbn1cclxuY29uc3QgY3JlYXRlUHJvZHVjdFByaWNlID0gcHJvZHVjdHMgPT4ge1xyXG5cdGNvbnN0IHByb2R1Y3RQcmljZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKVxyXG5cdHByb2R1Y3RQcmljZS5jbGFzc0xpc3QuYWRkKCdwcm9kdWN0LXByaWNlJylcclxuXHRwcm9kdWN0UHJpY2UudGV4dENvbnRlbnQgPSBwcm9kdWN0cy5wcmljZSArICckJ1xyXG5cdHJldHVybiBwcm9kdWN0UHJpY2VcclxufVxyXG5jb25zdCBjcmVhdGVQcm9kdWN0TmFtZSA9IHByb2R1Y3RzID0+IHtcclxuXHRjb25zdCBwcm9kdWN0TmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKVxyXG5cdHByb2R1Y3ROYW1lLmNsYXNzTGlzdC5hZGQoJ3Byb2R1Y3QtbmFtZScpXHJcblx0cHJvZHVjdE5hbWUudGV4dENvbnRlbnQgPSBwcm9kdWN0cy5uYW1lXHJcblx0cmV0dXJuIHByb2R1Y3ROYW1lXHJcbn1cclxuY29uc3QgY3JlYXRlUHJvZHVjdEltYWdlID0gcHJvZHVjdHMgPT4ge1xyXG5cdGNvbnN0IHByb2R1Y3RJbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpXHJcblx0cHJvZHVjdEltYWdlLmNsYXNzTGlzdC5hZGQoJ3Byb2R1Y3QtaW1hZ2UnKVxyXG5cdHByb2R1Y3RJbWFnZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIHByb2R1Y3RzLmltYWdlKVxyXG5cdHJldHVybiBwcm9kdWN0SW1hZ2VcclxufVxyXG5jb25zdCBjcmVhdGVQcm9kdWN0TGlzdEl0ZW0gPSBwcm9kdWN0cyA9PiB7XHJcblx0Y29uc3QgcHJvZHVjdExpc3RJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKVxyXG5cdHByb2R1Y3RMaXN0SXRlbS5jbGFzc0xpc3QuYWRkKCdwcm9kdWN0LWxpc3QtaXRlbScpXHJcblx0cHJvZHVjdExpc3RJdGVtLnNldEF0dHJpYnV0ZSgnaWQnLCBwcm9kdWN0cy5pZClcclxuXHRwcm9kdWN0TGlzdEl0ZW0uYXBwZW5kKFxyXG5cdFx0Y3JlYXRlUHJvZHVjdEltYWdlKHByb2R1Y3RzKSxcclxuXHRcdGNyZWF0ZVByb2R1Y3ROYW1lKHByb2R1Y3RzKSxcclxuXHRcdGNyZWF0ZVByb2R1Y3RQcmljZShwcm9kdWN0cyksXHJcblx0XHRjcmVhdGVCdXR0b25zQ29udGFpbmVyKClcclxuXHQpXHJcblx0cmV0dXJuIHByb2R1Y3RMaXN0SXRlbVxyXG59XHJcbmNvbnN0IGNyZWF0ZVByb2R1Y3RzTGlzdCA9IHByb2R1Y3RzID0+IHtcclxuXHRjb25zdCBwcm9kdWN0TGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJylcclxuXHRwcm9kdWN0TGlzdC5jbGFzc0xpc3QuYWRkKCdwcm9kdWN0cy1saXN0JylcclxuXHRwcm9kdWN0cy5mb3JFYWNoKHByb2R1Y3QgPT4ge1xyXG5cdFx0cHJvZHVjdExpc3QuYXBwZW5kKGNyZWF0ZVByb2R1Y3RMaXN0SXRlbShwcm9kdWN0KSlcclxuXHR9KVxyXG5cdHJldHVybiBwcm9kdWN0TGlzdFxyXG59XHJcbmNvbnN0IHJlbmRlclByb2R1Y3RzID0gcHJvZHVjdHMgPT4ge1xyXG5cdGNvbnN0IG1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWFpbicpXHJcblx0bWFpbi5hcHBlbmQoY3JlYXRlUHJvZHVjdHNMaXN0KHByb2R1Y3RzKSlcclxuXHRyZXR1cm4gbWFpblxyXG59XHJcbnJlbmRlclByb2R1Y3RzKHByb2R1Y3RzKVxyXG5jb25zdCBwdXJjaGFzZWRQcm9kdWN0TmFtZSA9IHB1cmNoYXNlZFByb2R1Y3RJZCA9PiB7XHJcblx0Y29uc3QgcHVyY2hhc2VkUHJvZHVjdE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJylcclxuXHRwdXJjaGFzZWRQcm9kdWN0TmFtZS50ZXh0Q29udGVudCA9IHByb2R1Y3RzW3B1cmNoYXNlZFByb2R1Y3RJZF0ubmFtZVxyXG5cdHB1cmNoYXNlZFByb2R1Y3ROYW1lLmNsYXNzTGlzdC5hZGQoJ2Jhc2tldF9fcHVyY2hhc2VkLW5hbWUnKVxyXG5cdHJldHVybiBwdXJjaGFzZWRQcm9kdWN0TmFtZVxyXG59XHJcbmNvbnN0IHB1cmNoYXNlZFByb2R1Y3RQcmljZSA9IChwdXJjaGFzZWRQcm9kdWN0SWQsIHByb2R1Y3RJbnB1dFZhbHVlKSA9PiB7XHJcblx0Y29uc3QgcHVyY2hhc2VkUHJvZHVjdFByaWNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpXHJcblx0cHVyY2hhc2VkUHJvZHVjdFByaWNlLnRleHRDb250ZW50ID0gKHByb2R1Y3RzW3B1cmNoYXNlZFByb2R1Y3RJZF0ucHJpY2UgKiBwcm9kdWN0SW5wdXRWYWx1ZSkudG9GaXhlZCgyKSArICckJ1xyXG5cdHB1cmNoYXNlZFByb2R1Y3RQcmljZS5jbGFzc0xpc3QuYWRkKCdiYXNrZXRfX3B1cmNoYXNlZC1wcmljZScpXHJcblx0cmV0dXJuIHB1cmNoYXNlZFByb2R1Y3RQcmljZVxyXG59XHJcbmNvbnN0IHB1cmNoYXNlZFByb2R1Y3RJbWFnZSA9IHB1cmNoYXNlZFByb2R1Y3RJZCA9PiB7XHJcblx0Y29uc3QgcHVyY2hhc2VkUHJvZHVjdEltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJylcclxuXHRwdXJjaGFzZWRQcm9kdWN0SW1hZ2UuY2xhc3NMaXN0LmFkZCgncHJvZHVjdC1pbWFnZScpXHJcblx0cHVyY2hhc2VkUHJvZHVjdEltYWdlLnNldEF0dHJpYnV0ZSgnc3JjJywgcHJvZHVjdHNbcHVyY2hhc2VkUHJvZHVjdElkXS5pbWFnZSlcclxuXHRyZXR1cm4gcHVyY2hhc2VkUHJvZHVjdEltYWdlXHJcbn1cclxuY29uc3QgcmVtb3ZlRnJvbUJhc2tldCA9IGUgPT4ge1xyXG5cdGNvbnN0IHB1cmNoYXNlZFByb2R1Y3RJZCA9IGUudGFyZ2V0LmNsb3Nlc3QoJ2xpJykuaWRcclxuXHRjb25zdCBwcm9kdWN0VG9EZWxldGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwdXJjaGFzZWRQcm9kdWN0SWQpXHJcblx0YmFza2V0VG90YWxOdW1iZXIgLT0gcGFyc2VGbG9hdChwcm9kdWN0VG9EZWxldGUucXVlcnlTZWxlY3RvcignLmJhc2tldF9fcHVyY2hhc2VkLXByaWNlJykudGV4dENvbnRlbnQpXHJcblx0YmFza2V0VmFsdWUudGV4dENvbnRlbnQgPSBiYXNrZXRUb3RhbE51bWJlci50b0ZpeGVkKDIpICsgJyQnXHJcblx0YmFza2V0TGlzdC5yZW1vdmVDaGlsZChwcm9kdWN0VG9EZWxldGUpXHJcblx0aWYgKGJhc2tldExpc3QuY2hpbGRyZW4ubGVuZ3RoID09PSAyKSB7XHJcblx0XHRiYXNrZXRJY29uLmNsYXNzTGlzdC5yZW1vdmUoJ2luLWFjdGl2ZScpXHJcblx0XHRiYXNrZXRUZXh0LmNsYXNzTGlzdC5yZW1vdmUoJ2luLWFjdGl2ZScpXHJcblx0fVxyXG59XHJcbmNvbnN0IGNyZWF0ZVJlbW92ZUJ1dHRvbiA9IGUgPT4ge1xyXG5cdGNvbnN0IHJlbW92ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXHJcblx0cmVtb3ZlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2Jhc2tldF9fcmVtb3ZlLWZyb20tY2FydCcpXHJcblx0cmVtb3ZlQnV0dG9uLnRleHRDb250ZW50ID0gJ1JFTU9WRSdcclxuXHRyZW1vdmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuXHRcdHJlbW92ZUZyb21CYXNrZXQoZSlcclxuXHRcdGNvdW50ZXItLVxyXG5cdFx0YmFza2V0Q291bnRlci50ZXh0Q29udGVudCA9IGNvdW50ZXJcclxuXHRcdGNvbnN0IHByb2R1Y3RzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0cy1saXN0JylcclxuXHRcdGNvbnN0IGJ0biA9IHByb2R1Y3RzTGlzdC5jaGlsZHJlbltlLnRhcmdldC5jbG9zZXN0KCdsaScpLmlkXS5xdWVyeVNlbGVjdG9yKCdidXR0b24nKVxyXG5cdFx0YnRuLnRleHRDb250ZW50ID0gJ0FERCBUTyBDQVJUJ1xyXG5cdFx0YnRuLmNsYXNzTGlzdC5yZW1vdmUoJ3JlbW92ZS1mcm9tLWJhc2tldCcpXHJcblx0fSlcclxuXHRyZXR1cm4gcmVtb3ZlQnV0dG9uXHJcbn1cclxuY29uc3QgYWRkVG9CYXNrZXQgPSBlID0+IHtcclxuXHRpZiAoYmFza2V0TGlzdCAhPT0gJycpIHtcclxuXHRcdGJhc2tldEljb24uY2xhc3NMaXN0LmFkZCgnaW4tYWN0aXZlJylcclxuXHRcdGJhc2tldFRleHQuY2xhc3NMaXN0LmFkZCgnaW4tYWN0aXZlJylcclxuXHR9XHJcblx0Y29uc3QgcHJvZHVjdElucHV0VmFsdWUgPSBlLnRhcmdldC5jbG9zZXN0KCdsaScpLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykudmFsdWVcclxuXHRjb25zdCBwdXJjaGFzZWRQcm9kdWN0SWQgPSBlLnRhcmdldC5jbG9zZXN0KCdsaScpLmlkXHJcblx0Y29uc3QgcHVyY2hhc2VkTGlzdEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpXHJcblx0cHVyY2hhc2VkTGlzdEl0ZW0uc2V0QXR0cmlidXRlKCdpZCcsIHByb2R1Y3RzW3B1cmNoYXNlZFByb2R1Y3RJZF0uaWQpXHJcblx0cHVyY2hhc2VkTGlzdEl0ZW0uY2xhc3NMaXN0LmFkZCgnYmFza2V0X19wdXJjaGFzZWQtaXRlbScpXHJcblx0cHVyY2hhc2VkTGlzdEl0ZW0uYXBwZW5kKFxyXG5cdFx0cHVyY2hhc2VkUHJvZHVjdEltYWdlKHB1cmNoYXNlZFByb2R1Y3RJZCksXHJcblx0XHRwdXJjaGFzZWRQcm9kdWN0UHJpY2UocHVyY2hhc2VkUHJvZHVjdElkLCBwcm9kdWN0SW5wdXRWYWx1ZSksXHJcblx0XHRwdXJjaGFzZWRQcm9kdWN0TmFtZShwdXJjaGFzZWRQcm9kdWN0SWQpLFxyXG5cdFx0Y3JlYXRlUmVtb3ZlQnV0dG9uKClcclxuXHQpXHJcblx0YmFza2V0VG90YWxOdW1iZXIgKz0gKHByb2R1Y3RzW3B1cmNoYXNlZFByb2R1Y3RJZF0ucHJpY2UgKiBwcm9kdWN0SW5wdXRWYWx1ZSlcclxuXHRiYXNrZXRWYWx1ZS50ZXh0Q29udGVudCA9IGJhc2tldFRvdGFsTnVtYmVyLnRvRml4ZWQoMikgKyAnJCdcclxuXHRiYXNrZXRMaXN0LmFwcGVuZChwdXJjaGFzZWRMaXN0SXRlbSlcclxufVxyXG5jb25zdCBjb3VudFByb2R1Y3RJbkJhc2tldCA9ICgpID0+IHtcclxuXHRjb25zdCBwdXJjaGFzZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHVyY2hhc2UtYnV0dG9uJylcclxuXHRwdXJjaGFzZUJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4ge1xyXG5cdFx0YnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcblx0XHRcdGNvbnN0IGNsaWNrZWRCdG4gPSBlLnRhcmdldFxyXG5cdFx0XHRpZiAoY2xpY2tlZEJ0bi50ZXh0Q29udGVudCA9PT0gJ0FERCBUTyBDQVJUJykge1xyXG5cdFx0XHRcdGNsaWNrZWRCdG4udGV4dENvbnRlbnQgPSAnUkVNT1ZFJ1xyXG5cdFx0XHRcdGNsaWNrZWRCdG4uY2xhc3NMaXN0LmFkZCgncmVtb3ZlLWZyb20tYmFza2V0JylcclxuXHRcdFx0XHRjb3VudGVyKytcclxuXHRcdFx0XHRhZGRUb0Jhc2tldChlKVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGNsaWNrZWRCdG4udGV4dENvbnRlbnQgPSAnQUREIFRPIENBUlQnXHJcblx0XHRcdFx0Y2xpY2tlZEJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdyZW1vdmUtZnJvbS1iYXNrZXQnKVxyXG5cdFx0XHRcdGNvdW50ZXItLVxyXG5cdFx0XHRcdHJlbW92ZUZyb21CYXNrZXQoZSlcclxuXHRcdFx0fVxyXG5cdFx0XHRiYXNrZXRDb3VudGVyLnRleHRDb250ZW50ID0gY291bnRlclxyXG5cdFx0fSlcclxuXHR9KVxyXG59XHJcbmNvbnN0IG9wZW5CYXNrZXQgPSAoKSA9PiB7XHJcblx0aWYgKHdpbmRvdy5zY3JlZW4ud2lkdGggPD0gNzY4KSB7XHJcblx0XHRiYXNrZXQuY2xhc3NMaXN0LmFkZCgnYmFza2V0LWFjdGl2ZS1tb2JpbGUnKVxyXG5cdH0gZWxzZSBpZiAod2luZG93LnNjcmVlbi53aWR0aCA+IDc2OSkge1xyXG5cdFx0YmFza2V0LmNsYXNzTGlzdC5hZGQoJ2Jhc2tldC1hY3RpdmUtZGVza3RvcCcpXHJcblx0fVxyXG59XHJcbmNvbnN0IGNsb3NlQmFza2V0ID0gKCkgPT4ge1xyXG5cdGJhc2tldC5jbGFzc0xpc3QucmVtb3ZlKCdiYXNrZXQtYWN0aXZlLW1vYmlsZScpXHJcblx0YmFza2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2Jhc2tldC1hY3RpdmUtZGVza3RvcCcpXHJcbn1cclxuYmFza2V0QmFja0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlQmFza2V0KVxyXG5iYXNrZXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQmFza2V0KVxyXG5jb3VudFByb2R1Y3RJbkJhc2tldCgpXHJcbiJdfQ==
